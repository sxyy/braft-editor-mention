{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap","webpack:///external \"react\"","webpack:///../node_modules/@babel/runtime/helpers/assertThisInitialized.js","webpack:///../node_modules/@babel/runtime/helpers/defineProperty.js","webpack:///external \"braft-utils\"","webpack:///external \"draft-js\"","webpack:///../node_modules/@babel/runtime/helpers/classCallCheck.js","webpack:///../node_modules/@babel/runtime/helpers/createClass.js","webpack:///../node_modules/@babel/runtime/helpers/possibleConstructorReturn.js","webpack:///../node_modules/@babel/runtime/helpers/getPrototypeOf.js","webpack:///../node_modules/@babel/runtime/helpers/inherits.js","webpack:///../node_modules/@babel/runtime/helpers/objectSpread.js","webpack:///../node_modules/@babel/runtime/helpers/extends.js","webpack:///../node_modules/@babel/runtime/helpers/toConsumableArray.js","webpack:///external \"immutable\"","webpack:///external \"braft-convert\"","webpack:///external \"react-dom\"","webpack:///../node_modules/React/index.js","webpack:///../node_modules/@babel/runtime/helpers/typeof.js","webpack:///external \"braft-finder\"","webpack:///../node_modules/draft-js-multidecorators/index.js","webpack:///../node_modules/draft-js/lib/CharacterMetadata.js","webpack:///../node_modules/draft-js/lib/findRangesImmutable.js","webpack:///../node_modules/@babel/runtime/helpers/objectWithoutProperties.js","webpack:///../node_modules/draft-js/lib/getFragmentFromSelection.js","webpack:///external \"draftjs-utils\"","webpack:///../node_modules/@babel/runtime/helpers/slicedToArray.js","webpack:///../node_modules/@babel/runtime/helpers/objectWithoutPropertiesLoose.js","webpack:///../node_modules/@babel/runtime/helpers/setPrototypeOf.js","webpack:///../node_modules/@babel/runtime/helpers/arrayWithoutHoles.js","webpack:///../node_modules/@babel/runtime/helpers/iterableToArray.js","webpack:///../node_modules/@babel/runtime/helpers/nonIterableSpread.js","webpack:///../node_modules/React/cjs/react.production.min.js","webpack:///../node_modules/object-assign/index.js","webpack:///../node_modules/draft-js/lib/getContentStateFragment.js","webpack:///../node_modules/draft-js/lib/randomizeBlockMapKeys.js","webpack:///../node_modules/draft-js/lib/ContentBlockNode.js","webpack:///../node_modules/draft-js/lib/generateRandomKey.js","webpack:///../node_modules/draft-js/lib/removeEntitiesAtEdges.js","webpack:///../node_modules/fbjs/lib/invariant.js","webpack:///../node_modules/@babel/runtime/helpers/arrayWithHoles.js","webpack:///../node_modules/@babel/runtime/helpers/iterableToArrayLimit.js","webpack:///../node_modules/@babel/runtime/helpers/nonIterableRest.js","webpack:///./languages/en.js","webpack:///./languages/zh.js","webpack:///./languages/zh-hant.js","webpack:///./languages/pl.js","webpack:///./languages/kr.js","webpack:///./languages/tr.js","webpack:///./languages/jpn.js","webpack:///./languages/ru.js","webpack:///./languages/fr.js","webpack:///./languages/pt-br.js","webpack:///./languages/index.js","webpack:///./configs/keybindings.js","webpack:///./suggest/index.jsx","webpack:///./suggest/addSuggestion.js","webpack:///./configs/props.js","webpack:///./configs/handlers.js","webpack:///./helpers/extension.js","webpack:///./renderers/block/blockRenderMap.js","webpack:///./components/common/Switch/index.jsx","webpack:///./configs/controls.js","webpack:///./renderers/atomics/Image/index.jsx","webpack:///./components/common/Modal/index.jsx","webpack:///./components/business/PlayerModal/index.jsx","webpack:///./renderers/atomics/Video/index.jsx","webpack:///./renderers/atomics/Audio/index.jsx","webpack:///./renderers/atomics/Embed/index.jsx","webpack:///./renderers/atomics/HorizontalLine/index.jsx","webpack:///./renderers/block/blockRendererFn.js","webpack:///./renderers/block/blockStyleFn.js","webpack:///./renderers/inline/inlineStyleMap.js","webpack:///./renderers/inline/inlineStyleFn.js","webpack:///./renderers/decorators/Link/index.jsx","webpack:///./renderers/decorators/index.js","webpack:///./renderers/index.js","webpack:///./helpers/responsive.js","webpack:///./components/common/DropDown/index.jsx","webpack:///./components/business/ControlGroup/index.jsx","webpack:///./components/business/LinkEditor/index.jsx","webpack:///./configs/maps.js","webpack:///./components/business/Headings/index.jsx","webpack:///./components/common/ColorPicker/index.jsx","webpack:///./components/business/TextColor/index.jsx","webpack:///./components/business/FontSize/index.jsx","webpack:///./components/business/LineHeight/index.jsx","webpack:///./components/business/FontFamily/index.jsx","webpack:///./components/business/TextAlign/index.jsx","webpack:///./components/business/EmojiPicker/index.jsx","webpack:///./components/business/LetterSpacing/index.jsx","webpack:///./components/business/TextIndent/index.jsx","webpack:///./components/business/ControlBar/index.jsx","webpack:///./editor/index.jsx","webpack:///./index.jsx","webpack:///../node_modules/draft-js/dist/Draft.css","webpack:///./assets/scss/_base.scss","webpack:///./renderers/atomics/Image/style.scss","webpack:///./components/common/Switch/style.scss","webpack:///./renderers/atomics/Video/style.scss","webpack:///./components/common/Modal/style.scss","webpack:///./components/business/PlayerModal/style.scss","webpack:///./renderers/atomics/Audio/style.scss","webpack:///./renderers/atomics/Embed/style.scss","webpack:///./renderers/atomics/HorizontalLine/style.scss","webpack:///./components/business/ControlBar/style.scss","webpack:///./components/business/LinkEditor/style.scss","webpack:///./components/common/DropDown/style.scss","webpack:///./components/business/Headings/style.scss","webpack:///./components/business/TextColor/style.scss","webpack:///./components/common/ColorPicker/style.scss","webpack:///./components/business/FontSize/style.scss","webpack:///./components/business/LineHeight/style.scss","webpack:///./components/business/FontFamily/style.scss","webpack:///./components/business/EmojiPicker/style.scss","webpack:///./components/business/LetterSpacing/style.scss"],"names":["base","remove","cancel","confirm","inert","width","height","controls","clear","undo","redo","fontSize","color","textColor","tempColors","backgroundColor","bold","lineHeight","letterSpacing","textIndent","increaseIndent","decreaseIndent","italic","underline","strikeThrough","fontFamily","textAlign","alignLeft","alignCenter","alignRight","alignJustify","floatLeft","floatRight","superScript","subScript","removeStyles","headings","header","normal","orderedList","unorderedList","blockQuote","code","link","unlink","hr","media","mediaLibirary","emoji","fullscreen","exitFullscreen","linkEditor","textInputPlaceHolder","linkInputPlaceHolder","inputWithEnterPlaceHolder","openInNewWindow","removeLink","audioPlayer","title","videoPlayer","embedTitle","image","video","audio","embed","border","insert","en","zh","zhHant","pl","kr","tr","jpn","ru","fr","ptBr","customKeyBindingFn","event","keyCode","KeyBindingUtil","hasCommandModifier","isCtrlKeyCommand","getDefaultKeyBinding","SuggestionList","selectedIndex","max","index","suggestionsState","props","left","top","array","position","borderRadius","margin","padding","background","zIndex","boxShadow","listStyleType","map","person","onSelectedChange","onMentionSelect","console","log","React","Component","addSuggestion","editorState","start","end","trigger","text","entityKey","Entity","create","currentSelectionState","getSelection","mentionTextSelection","merge","anchorOffset","focusOffset","insertingContent","Modifier","replaceText","getCurrentContent","blockKey","getAnchorKey","blockSize","getBlockForKey","getLength","insertText","getSelectionAfter","newEditorState","EditorState","push","forceSelection","language","excludeControls","extendControls","extendAtomics","componentBelowControlBar","pasteImage","imagePasteLimit","uploadFn","validateFn","onBeforeDeselect","onDeselect","onBeforeSelect","onSelect","onBeforeRemove","onRemove","onCancel","onFileSelect","onBeforeInsert","onInsert","onChange","accepts","externals","imageControls","imageResizable","colors","colorPicker","colorPickerTheme","colorPickerAutoHide","codeTabIndents","textAligns","textBackgroundColor","allowInsertLinkText","defaultLinkTarget","letterSpacings","lineHeights","fontSizes","fontFamilies","name","family","converts","unitExportFn","value","type","emojis","stripPastedStyles","triggerChangeOnMount","className","style","controlBarClassName","controlBarStyle","contentClassName","contentStyle","draftProps","hooks","mentions","onFocus","onBlur","onTab","onDelete","onMentionChange","onSave","fixPlaceholder","keyCommandHandlers","command","editor","editorProps","handleKeyCommand","allowIndent","indexOf","find","item","key","cursorStart","getStartOffset","cursorEnd","getEndOffset","cursorIsAtFirst","blockType","ContentUtils","getSelectionBlockType","setValue","decreaseSelectionIndent","repeat","RichUtils","increaseSelectionIndent","nextEditorState","returnHandlers","handleReturn","autocompleteState","getAutocompleteState","commitSelection","currentBlock","getSelectionBlock","currentBlockType","getType","toggleSelectionBlockType","which","getModifierState","insertSoftNewline","handleNewLine","beforeInputHandlers","chars","handleBeforeInput","compositionStartHandler","_","state","selectedBlocks","getSelectedBlocks","length","removeRange","dropHandlers","selectionState","dataTransfer","readOnly","disabled","window","__BRAFT_DRAGING__IMAGE__","insertMedias","mediaData","removeBlock","block","lockOrUnlockEditor","getText","handleFiles","files","constructor","defaultProps","slice","forEach","file","braftFinder","validateResult","Promise","then","uploadImage","isLiving","droppedFilesHandlers","handleDroppedFiles","pastedFilesHandlers","handlePastedFiles","copyHandlers","blockMap","getFragmentFromSelection","toArray","tempContentState","ContentState","createFromBlockArray","tempEditorState","createWithContent","clipboardData","originalEvent","setConvertOptions","convertOptions","setData","toHTML","toText","preventDefault","error","warn","pastedTextHandlers","html","handlePastedText","ColorUtils","detectColorsFromHTMLString","setState","filter","insertHTML","extensionControls","extensionDecorators","propInterceptors","extensionBlockRenderMaps","extensionBlockRendererFns","extensionInlineStyleMaps","extensionInlineStyleFns","extensionEntities","inlineStyleImporters","inlineStyleExporters","blockImporters","blockExporters","filterByEditorId","items","editorId","includeEditors","data","excludeEditors","getPropInterceptors","getExtensionControls","getExtensionDecorators","getExtensionBlockRenderMaps","getExtensionBlockRendererFns","getExtensionInlineStyleMap","inlineStyleMap","inlineStyleName","styleMap","getExtensionInlineStyleFns","compositeStyleImportFn","styleImportFn","nodeName","node","styleImporter","importer","add","compositeStyleExportFn","styleExportFn","toUpperCase","result","undefined","exporter","compositeEntityImportFn","entityImportFn","createEntity","source","entityItem","matched","entityType","mutability","compositeEntityExportFn","entityExportFn","entity","originalText","compositeBlockImportFn","blockImportFn","blockImporter","compositeBlockExportFn","blockExportFn","contentState","blockExporter","useExtension","extension","Array","control","styleFn","decorator","component","renderMap","rendererFn","strategy","getDecorations","interceptor","createExtensibleEditor","BraftEditor","use","blockRenderMap","customBlockRenderMap","Map","element","wrapper","reduce","DefaultDraftBlockRenderMap","active","onClick","lang","isFullscreen","imageControlItems","Image","toolbarVisible","toolbarOffset","linkEditorVisible","sizeEditorVisible","tempLink","tempWidth","tempHeight","e","reSizeType","initialLeft","screenX","initialTop","screenY","initialHeight","initialWidth","changeSize","Math","abs","confirmImageSize","document","removeEventListener","moveImage","upImage","imageRect","imageElement","getBoundingClientRect","addEventListener","stopPropagation","unlockEditor","split","method","param","getValue","confirmImageLink","currentTarget","hookReturns","setMediaData","setImmediate","forceRender","isNaN","newImageSize","float","setMediaPosition","alignment","lockEditor","calcToolbarOffset","blockData","getData","get","url","link_target","meta","imageStyles","clearFix","renderedControlItems","executeCommand","render","showToolbar","hideToolbar","handleDragStart","handleDragEnd","instance","mediaEmbederInstance","marginLeft","toolbarElement","handleLinkInputKeyDown","setImageLink","setImageLinkTarget","handleSizeInputKeyDown","setImageWidth","setImageHeight","display","repareChangeSize","getContainerNode","containerNode","container","viewRect","querySelector","toolbarRect","right","Modal","rootElement","classList","contains","ReactDOM","unmountComponentAtNode","parentNode","removeChild","tagName","target","toLowerCase","closeOnCancel","close","closeOnConfirm","onConfirm","closeOnBlur","onBlue","unrenderComponent","onClose","componentId","BaseUtils","UniqueIndex","visible","renderComponent","next","activeId","clearImmediate","children","confirmable","showFooter","showCancel","showConfirm","showClose","cancelText","confirmText","bottomText","childComponent","handleMouseDown","handleMaskClick","handleTransitionEnd","handleCancel","handleConfirm","createElement","id","body","appendChild","showModal","hostNode","modalInstance","destroy","update","playViaModal","typeIconsMap","poster","backgroundImage","Video","removeVideo","Audio","removeAudio","Embed","removeEmbed","__html","HorizontalLine","removeHorizontalLine","BlockRenderFnContext","superProps","customBlockRendererFn","blockRendererFn","getEntityAt","getEntity","mediaType","mediaProps","atomics","i","blockRenderer","RegExp","test","renderAtomicBlock","editable","blockRenderFnContext","getRenderFn","customBlockStyleFn","blockAlignment","blockIndent","blockFloat","customStyleMap","extensionInlineStyleMap","bottom","getStyleValue","options","styles","output","customStyleFn","href","viewLink","click","KEY_SEPARATOR","CombineDecorators","prototype","decorations","fill","decorators","offset","Immutable","List","builtinDecorators","Link","createStrategy","callback","findEntityRanges","character","entityDecorators","strategyDecorators","classDecorators","CompositeDecorator","getBlockRenderMap","_getBlockRenderMap","getBlockRendererFn","_getBlockRendererFn","getBlockStyleFn","_getBlockStyleFn","getCustomStyleMap","_getCustomStyleMap","getCustomStyleFn","_getCustomStyleFn","getDecorators","_getDecorators","resizeEventHandlers","responsiveHelperInited","debouce","resolve","eventHandler","unresolve","clearTimeout","setTimeout","DropDown","handlerRect","dropDownHandlerElement","contentRect","dropDownContentElement","autoHide","hide","registerClickEvent","responsiveResolveId","ResponsiveHelper","fixDropDownPosition","prevState","caption","htmlCaption","showArrow","arrowActive","theme","toggle","Fragment","LinkEditor","dropDownInstance","toggleSelectionLink","textSelected","requestFocus","nextProps","getSelectionEntityData","isSelectionCollapsed","selectedText","getSelectionText","handeKeyDown","handleTnputText","handleInputLink","setTarget","handleUnlink","getHeadings","blocks","currentHeadingIndex","findIndex","current","isActive","presetColors","replace","dataset","TextColor","colorType","closePicker","toggleSelectionColor","toggleSelectionBackgroundColor","captionStyle","currentColor","selectionStyles","getCurrentInlineStyle","toJS","ColorPicker","BuiltinColorPicker","enableBackgroundColor","switchColorType","toggleColor","toggleFontSize","size","toggleSelectionFontSize","currentFontSize","selectionHasInlineStyle","defaultCaption","toggleLineHeight","toggleSelectionLineHeight","currentLineHeight","toggleFontFamily","fontFamilyName","toggleSelectionFontFamily","currentIndex","TextAlign","currentAlignment","toggleSelectionAlignment","getSelectionBlockData","textAlignmentTitles","setAlignment","insertEmoji","toggleLetterSpacing","toggleSelectionLetterSpacing","currentLetterSpacing","currentIndent","commandHookMap","exclusiveInlineStyles","mergeControls","commonProps","builtControls","subItem","concat","ControlBar","ReactComponent","MediaLibrary","mediaLibiraryModal","closeBraftFinder","bindBraftFinderHook","hookName","medias","allControls","modal","extendedModals","getSelectionEntityType","exclusiveInlineStyle","toggleSelectionInlineStyle","toggleSelectionEntity","renderedControls","editorControls","getEditorControls","itemKey","controlItem","applyControl","openBraftFinder","ref","onCreate","getUndoStack","getRedoStack","getControlItemClassName","buildHooks","defaultReturns","filterColors","colors2","isControlEnabled","controlName","getConvertOptions","filteredArrayTemp","selection","getHasFocus","getStartKey","rangeCount","hasEntityAtSelection","range","getRangeAt","startContainer","textContent","substring","startOffset","lastIndexOf","invalidate","personRange","getAutocompleteRange","tagRange","mentionText","tempRange","cloneRange","setStart","rangeRect","set","editorDecorators","requestAnimationFrame","dataArray","onSuggestionClick","onSuggestionItemClick","updateMentionSelected","draftInstance","insertState","normalizeIndex","text_temp","getInsertState","originalHandler","nudgeAmount","onArrow","onUpArrow","onDownArrow","isFocused","focus","removeSelectionInlineStyles","insertHorizontalLine","toggleSelectionIndent","onFullscreen","getEditorProps","valueInitialized","defaultValue","defaultEditorState","createEmpty","isEditorState","detectColorsFromDraftState","toRAW","restProps","porpsMap","BraftFinder","uploader","validator","forceUpdate","currentProps","setItems","controlBarInstance","getAnchorOffset","anchorKey","currentContent","blockText","editorLocked","placeholder","languages","externalMedias","controlBarProps","blockStyleFn","keyBindingFn","getKeyBindingFn","mixedProps","isEmpty","getFirstBlock","handleDrop","renderAutocomplete","setEditorContainerNode","handleCompositionStart","handleCopyContent","convertEditorStateToHTML","noStringify","convertEditorStateToRaw","JSON","stringify","getPlainText","hasText","createEditorState","createFrom","content","entityMap","convertRawToEditorState","convertHTMLToEditorState","parse","toLocaleString"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,O;ACVA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,kDAA0C,gCAAgC;AAC1E;AACA;;AAEA;AACA;AACA;AACA,gEAAwD,kBAAkB;AAC1E;AACA,yDAAiD,cAAc;AAC/D;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAyC,iCAAiC;AAC1E,wHAAgH,mBAAmB,EAAE;AACrI;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;;AAGA;AACA;;;;;;;AClFA,gD;;;;;;ACAA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,wC;;;;;;ACRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA;;AAEA;AACA;;AAEA,iC;;;;;;ACfA,gD;;;;;;ACAA,gD;;;;;;ACAA;AACA;AACA;AACA;AACA;;AAEA,iC;;;;;;ACNA;AACA,iBAAiB,kBAAkB;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,8B;;;;;;AChBA,cAAc,mBAAO,CAAC,EAAmB;;AAEzC,4BAA4B,mBAAO,CAAC,CAAyB;;AAE7D;AACA;AACA;AACA;;AAEA;AACA;;AAEA,4C;;;;;;ACZA;AACA;AACA;AACA;AACA;AACA;;AAEA,iC;;;;;;ACPA,qBAAqB,mBAAO,CAAC,EAAkB;;AAE/C;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA,2B;;;;;;ACjBA,qBAAqB,mBAAO,CAAC,CAAkB;;AAE/C;AACA,iBAAiB,sBAAsB;AACvC;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA,KAAK;AACL;;AAEA;AACA;;AAEA,+B;;;;;;ACrBA;AACA;AACA,mBAAmB,sBAAsB;AACzC;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA,0B;;;;;;AClBA,wBAAwB,mBAAO,CAAC,EAAqB;;AAErD,sBAAsB,mBAAO,CAAC,EAAmB;;AAEjD,wBAAwB,mBAAO,CAAC,EAAqB;;AAErD;AACA;AACA;;AAEA,oC;;;;;;ACVA,iD;;;;;;ACAA,iD;;;;;;ACAA,iD;;;;;;;ACAa;;AAEb,IAAI,IAAqC;AACzC,mBAAmB,mBAAO,CAAC,EAA+B;AAC1D,CAAC,MAAM,EAEN;;;;;;;ACND,wBAAwB,2EAA2E,oCAAoC,mBAAmB,GAAG,EAAE,OAAO,oCAAoC,8HAA8H,GAAG,EAAE,sBAAsB;;AAEnW;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;;AAEA,yB;;;;;;AChBA,iD;;;;;;ACAA,gBAAgB,mBAAO,CAAC,EAAW;;AAEnC;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA,YAAY;AACZ,aAAa;AACb;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,SAAS;AACT,KAAK;;AAEL;AACA;;AAEA;AACA;;AAEA,YAAY;AACZ,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,YAAY;AACZ,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,YAAY;AACZ,aAAa;AACb;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA,YAAY;AACZ,aAAa;AACb;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;ACpFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEa;;AAEb,iDAAiD,0CAA0C,0DAA0D,EAAE;;AAEvJ,iDAAiD,aAAa,uFAAuF,EAAE,uFAAuF;;AAE9O,0CAA0C,+DAA+D,qGAAqG,EAAE,yEAAyE,eAAe,yEAAyE,EAAE,EAAE,uHAAuH;;AAE5e,eAAe,mBAAO,CAAC,EAAW;AAClC;AACA;AACA;;AAEA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,CAAC;;AAED;AACA;;AAEA;;AAEA,mC;;;;;;;AClHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEa;;AAEb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;;AAEA,qC;;;;;;AC1CA,mCAAmC,mBAAO,CAAC,EAAgC;;AAE3E;AACA;AACA;AACA;;AAEA;AACA;;AAEA,eAAe,6BAA6B;AAC5C;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,0C;;;;;;;ACrBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEa;;AAEb,8BAA8B,mBAAO,CAAC,EAA2B;;AAEjE;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA,0C;;;;;;AC3BA,iD;;;;;;ACAA,qBAAqB,mBAAO,CAAC,EAAkB;;AAE/C,2BAA2B,mBAAO,CAAC,EAAwB;;AAE3D,sBAAsB,mBAAO,CAAC,EAAmB;;AAEjD;AACA;AACA;;AAEA,gC;;;;;;ACVA;AACA;AACA;AACA;AACA;;AAEA,aAAa,uBAAuB;AACpC;AACA;AACA;AACA;;AAEA;AACA;;AAEA,+C;;;;;;ACfA;AACA;AACA;AACA;AACA;;AAEA;AAC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AEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA,GAAG;AACH;;AAEA,yC;;;;;;;AC/DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEa;;AAEb,uBAAuB,mBAAO,CAAC,EAAoB;AACnD,gBAAgB,mBAAO,CAAC,EAAW;;AAEnC,wBAAwB,mBAAO,CAAC,EAAqB;;AAErD;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,WAAW;AACX;AACA,OAAO;AACP,KAAK;AACL,GAAG;AACH;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA,uC;;;;;;;AChHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEa;;AAEb,iDAAiD,0CAA0C,0DAA0D,EAAE;;AAEvJ,iDAAiD,aAAa,uFAAuF,EAAE,uFAAuF;;AAE9O,0CAA0C,+DAA+D,qGAAqG,EAAE,yEAAyE,eAAe,yEAAyE,EAAE,EAAE,uHAAuH;;AAE5e,wBAAwB,mBAAO,CAAC,EAAqB;AACrD,gBAAgB,mBAAO,CAAC,EAAW;;AAEnC,0BAA0B,mBAAO,CAAC,EAAuB;;AAEzD;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,CAAC;;AAED,kC;;;;;;;AC1JA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEa;;AAEb;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,mC;;;;;;;AC3BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEa;;AAEb,wBAAwB,mBAAO,CAAC,EAAqB;;AAErD,0BAA0B,mBAAO,CAAC,EAAuB;AACzD,gBAAgB,mBAAO,CAAC,EAAoB;;AAE5C;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,sBAAsB;AACtB;AACA,GAAG;AACH,wCAAwC,MAAqC,GAAG,SAAmE;AACnJ;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,uC;;;;;;;ACpGA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEa;;AAEb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;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","file":"index.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"react\"), require(\"braft-utils\"), require(\"draft-js\"), require(\"immutable\"), require(\"braft-convert\"), require(\"react-dom\"), require(\"braft-finder\"), require(\"draftjs-utils\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"react\", \"braft-utils\", \"draft-js\", \"immutable\", \"braft-convert\", \"react-dom\", \"braft-finder\", \"draftjs-utils\"], factory);\n\telse {\n\t\tvar a = typeof exports === 'object' ? factory(require(\"react\"), require(\"braft-utils\"), require(\"draft-js\"), require(\"immutable\"), require(\"braft-convert\"), require(\"react-dom\"), require(\"braft-finder\"), require(\"draftjs-utils\")) : factory(root[\"react\"], root[\"braft-utils\"], root[\"draft-js\"], root[\"immutable\"], root[\"braft-convert\"], root[\"react-dom\"], root[\"braft-finder\"], root[\"draftjs-utils\"]);\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(window, function(__WEBPACK_EXTERNAL_MODULE__0__, __WEBPACK_EXTERNAL_MODULE__3__, __WEBPACK_EXTERNAL_MODULE__4__, __WEBPACK_EXTERNAL_MODULE__13__, __WEBPACK_EXTERNAL_MODULE__14__, __WEBPACK_EXTERNAL_MODULE__15__, __WEBPACK_EXTERNAL_MODULE__18__, __WEBPACK_EXTERNAL_MODULE__24__) {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 42);\n","module.exports = __WEBPACK_EXTERNAL_MODULE__0__;","function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nmodule.exports = _assertThisInitialized;","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty;","module.exports = __WEBPACK_EXTERNAL_MODULE__3__;","module.exports = __WEBPACK_EXTERNAL_MODULE__4__;","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;","var _typeof = require(\"../helpers/typeof\");\n\nvar assertThisInitialized = require(\"./assertThisInitialized\");\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}\n\nmodule.exports = _possibleConstructorReturn;","function _getPrototypeOf(o) {\n  module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nmodule.exports = _getPrototypeOf;","var setPrototypeOf = require(\"./setPrototypeOf\");\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\n\nmodule.exports = _inherits;","var defineProperty = require(\"./defineProperty\");\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    });\n  }\n\n  return target;\n}\n\nmodule.exports = _objectSpread;","function _extends() {\n  module.exports = _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nmodule.exports = _extends;","var arrayWithoutHoles = require(\"./arrayWithoutHoles\");\n\nvar iterableToArray = require(\"./iterableToArray\");\n\nvar nonIterableSpread = require(\"./nonIterableSpread\");\n\nfunction _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || nonIterableSpread();\n}\n\nmodule.exports = _toConsumableArray;","module.exports = __WEBPACK_EXTERNAL_MODULE__13__;","module.exports = __WEBPACK_EXTERNAL_MODULE__14__;","module.exports = __WEBPACK_EXTERNAL_MODULE__15__;","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react.production.min.js');\n} else {\n  module.exports = require('./cjs/react.development.js');\n}\n","function _typeof2(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof2 = function _typeof2(obj) { return typeof obj; }; } else { _typeof2 = function _typeof2(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof2(obj); }\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && _typeof2(Symbol.iterator) === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return _typeof2(obj);\n    };\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : _typeof2(obj);\n    };\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;","module.exports = __WEBPACK_EXTERNAL_MODULE__18__;","var Immutable = require('immutable');\n\nvar KEY_SEPARATOR = '-';\n\nfunction MultiDecorator(decorators) {\n    this.decorators = Immutable.List(decorators);\n}\n\n/**\n    Return list of decoration IDs per character\n\n    @param {ContentBlock}\n    @return {List<String>}\n*/\nMultiDecorator.prototype.getDecorations = function(block) {\n    var decorations = Array(block.getText().length).fill(null);\n\n    this.decorators.forEach(function(decorator, i) {\n        var _decorations = decorator.getDecorations(block);\n\n        _decorations.forEach(function(key, offset) {\n            if (!key) {\n                return;\n            }\n\n            key = i + KEY_SEPARATOR + key;\n\n            decorations[offset] = key;\n        });\n    });\n\n    return Immutable.List(decorations);\n};\n\n/**\n    Return component to render a decoration\n\n    @param {String}\n    @return {Function}\n*/\nMultiDecorator.prototype.getComponentForKey = function(key) {\n    var decorator = this.getDecoratorForKey(key);\n    return decorator.getComponentForKey(\n        this.getInnerKey(key)\n    );\n};\n\n/**\n    Return props to render a decoration\n\n    @param {String}\n    @return {Object}\n*/\nMultiDecorator.prototype.getPropsForKey = function(key) {\n    var decorator = this.getDecoratorForKey(key);\n    return decorator.getPropsForKey(\n        this.getInnerKey(key)\n    );\n};\n\n/**\n    Return a decorator for a specific key\n\n    @param {String}\n    @return {Decorator}\n*/\nMultiDecorator.prototype.getDecoratorForKey = function(key) {\n    var parts = key.split(KEY_SEPARATOR);\n    var index = Number(parts[0]);\n\n    return this.decorators.get(index);\n};\n\n/**\n    Return inner key for a decorator\n\n    @param {String}\n    @return {String}\n*/\nMultiDecorator.prototype.getInnerKey = function(key) {\n    var parts = key.split(KEY_SEPARATOR);\n    return parts.slice(1).join(KEY_SEPARATOR);\n};\n\nmodule.exports = MultiDecorator;\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule CharacterMetadata\n * @format\n * \n */\n\n'use strict';\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar _require = require('immutable'),\n    Map = _require.Map,\n    OrderedSet = _require.OrderedSet,\n    Record = _require.Record;\n\n// Immutable.map is typed such that the value for every key in the map\n// must be the same type\n\n\nvar EMPTY_SET = OrderedSet();\n\nvar defaultRecord = {\n  style: EMPTY_SET,\n  entity: null\n};\n\nvar CharacterMetadataRecord = Record(defaultRecord);\n\nvar CharacterMetadata = function (_CharacterMetadataRec) {\n  _inherits(CharacterMetadata, _CharacterMetadataRec);\n\n  function CharacterMetadata() {\n    _classCallCheck(this, CharacterMetadata);\n\n    return _possibleConstructorReturn(this, _CharacterMetadataRec.apply(this, arguments));\n  }\n\n  CharacterMetadata.prototype.getStyle = function getStyle() {\n    return this.get('style');\n  };\n\n  CharacterMetadata.prototype.getEntity = function getEntity() {\n    return this.get('entity');\n  };\n\n  CharacterMetadata.prototype.hasStyle = function hasStyle(style) {\n    return this.getStyle().includes(style);\n  };\n\n  CharacterMetadata.applyStyle = function applyStyle(record, style) {\n    var withStyle = record.set('style', record.getStyle().add(style));\n    return CharacterMetadata.create(withStyle);\n  };\n\n  CharacterMetadata.removeStyle = function removeStyle(record, style) {\n    var withoutStyle = record.set('style', record.getStyle().remove(style));\n    return CharacterMetadata.create(withoutStyle);\n  };\n\n  CharacterMetadata.applyEntity = function applyEntity(record, entityKey) {\n    var withEntity = record.getEntity() === entityKey ? record : record.set('entity', entityKey);\n    return CharacterMetadata.create(withEntity);\n  };\n\n  /**\n   * Use this function instead of the `CharacterMetadata` constructor.\n   * Since most content generally uses only a very small number of\n   * style/entity permutations, we can reuse these objects as often as\n   * possible.\n   */\n\n\n  CharacterMetadata.create = function create(config) {\n    if (!config) {\n      return EMPTY;\n    }\n\n    var defaultConfig = {\n      style: EMPTY_SET,\n      entity: null\n    };\n\n    // Fill in unspecified properties, if necessary.\n    var configMap = Map(defaultConfig).merge(config);\n\n    var existing = pool.get(configMap);\n    if (existing) {\n      return existing;\n    }\n\n    var newCharacter = new CharacterMetadata(configMap);\n    pool = pool.set(configMap, newCharacter);\n    return newCharacter;\n  };\n\n  return CharacterMetadata;\n}(CharacterMetadataRecord);\n\nvar EMPTY = new CharacterMetadata();\nvar pool = Map([[Map(defaultRecord), EMPTY]]);\n\nCharacterMetadata.EMPTY = EMPTY;\n\nmodule.exports = CharacterMetadata;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule findRangesImmutable\n * @format\n * \n */\n\n'use strict';\n\n/**\n * Search through an array to find contiguous stretches of elements that\n * match a specified filter function.\n *\n * When ranges are found, execute a specified `found` function to supply\n * the values to the caller.\n */\nfunction findRangesImmutable(haystack, areEqualFn, filterFn, foundFn) {\n  if (!haystack.size) {\n    return;\n  }\n\n  var cursor = 0;\n\n  haystack.reduce(function (value, nextValue, nextIndex) {\n    if (!areEqualFn(value, nextValue)) {\n      if (filterFn(value)) {\n        foundFn(cursor, nextIndex);\n      }\n      cursor = nextIndex;\n    }\n    return nextValue;\n  });\n\n  filterFn(haystack.last()) && foundFn(cursor, haystack.count());\n}\n\nmodule.exports = findRangesImmutable;","var objectWithoutPropertiesLoose = require(\"./objectWithoutPropertiesLoose\");\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nmodule.exports = _objectWithoutProperties;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule getFragmentFromSelection\n * @format\n * \n */\n\n'use strict';\n\nvar getContentStateFragment = require('./getContentStateFragment');\n\nfunction getFragmentFromSelection(editorState) {\n  var selectionState = editorState.getSelection();\n\n  if (selectionState.isCollapsed()) {\n    return null;\n  }\n\n  return getContentStateFragment(editorState.getCurrentContent(), selectionState);\n}\n\nmodule.exports = getFragmentFromSelection;","module.exports = __WEBPACK_EXTERNAL_MODULE__24__;","var arrayWithHoles = require(\"./arrayWithHoles\");\n\nvar iterableToArrayLimit = require(\"./iterableToArrayLimit\");\n\nvar nonIterableRest = require(\"./nonIterableRest\");\n\nfunction _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || nonIterableRest();\n}\n\nmodule.exports = _slicedToArray;","function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nmodule.exports = _objectWithoutPropertiesLoose;","function _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nmodule.exports = _setPrototypeOf;","function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}\n\nmodule.exports = _arrayWithoutHoles;","function _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}\n\nmodule.exports = _iterableToArray;","function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\n\nmodule.exports = _nonIterableSpread;","/** @license React v16.8.6\n * react.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';var k=require(\"object-assign\"),n=\"function\"===typeof Symbol&&Symbol.for,p=n?Symbol.for(\"react.element\"):60103,q=n?Symbol.for(\"react.portal\"):60106,r=n?Symbol.for(\"react.fragment\"):60107,t=n?Symbol.for(\"react.strict_mode\"):60108,u=n?Symbol.for(\"react.profiler\"):60114,v=n?Symbol.for(\"react.provider\"):60109,w=n?Symbol.for(\"react.context\"):60110,x=n?Symbol.for(\"react.concurrent_mode\"):60111,y=n?Symbol.for(\"react.forward_ref\"):60112,z=n?Symbol.for(\"react.suspense\"):60113,aa=n?Symbol.for(\"react.memo\"):\n60115,ba=n?Symbol.for(\"react.lazy\"):60116,A=\"function\"===typeof Symbol&&Symbol.iterator;function ca(a,b,d,c,e,g,h,f){if(!a){a=void 0;if(void 0===b)a=Error(\"Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.\");else{var l=[d,c,e,g,h,f],m=0;a=Error(b.replace(/%s/g,function(){return l[m++]}));a.name=\"Invariant Violation\"}a.framesToPop=1;throw a;}}\nfunction B(a){for(var b=arguments.length-1,d=\"https://reactjs.org/docs/error-decoder.html?invariant=\"+a,c=0;c<b;c++)d+=\"&args[]=\"+encodeURIComponent(arguments[c+1]);ca(!1,\"Minified React error #\"+a+\"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. \",d)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D={};\nfunction E(a,b,d){this.props=a;this.context=b;this.refs=D;this.updater=d||C}E.prototype.isReactComponent={};E.prototype.setState=function(a,b){\"object\"!==typeof a&&\"function\"!==typeof a&&null!=a?B(\"85\"):void 0;this.updater.enqueueSetState(this,a,b,\"setState\")};E.prototype.forceUpdate=function(a){this.updater.enqueueForceUpdate(this,a,\"forceUpdate\")};function F(){}F.prototype=E.prototype;function G(a,b,d){this.props=a;this.context=b;this.refs=D;this.updater=d||C}var H=G.prototype=new F;\nH.constructor=G;k(H,E.prototype);H.isPureReactComponent=!0;var I={current:null},J={current:null},K=Object.prototype.hasOwnProperty,L={key:!0,ref:!0,__self:!0,__source:!0};\nfunction M(a,b,d){var c=void 0,e={},g=null,h=null;if(null!=b)for(c in void 0!==b.ref&&(h=b.ref),void 0!==b.key&&(g=\"\"+b.key),b)K.call(b,c)&&!L.hasOwnProperty(c)&&(e[c]=b[c]);var f=arguments.length-2;if(1===f)e.children=d;else if(1<f){for(var l=Array(f),m=0;m<f;m++)l[m]=arguments[m+2];e.children=l}if(a&&a.defaultProps)for(c in f=a.defaultProps,f)void 0===e[c]&&(e[c]=f[c]);return{$$typeof:p,type:a,key:g,ref:h,props:e,_owner:J.current}}\nfunction da(a,b){return{$$typeof:p,type:a.type,key:b,ref:a.ref,props:a.props,_owner:a._owner}}function N(a){return\"object\"===typeof a&&null!==a&&a.$$typeof===p}function escape(a){var b={\"=\":\"=0\",\":\":\"=2\"};return\"$\"+(\"\"+a).replace(/[=:]/g,function(a){return b[a]})}var O=/\\/+/g,P=[];function Q(a,b,d,c){if(P.length){var e=P.pop();e.result=a;e.keyPrefix=b;e.func=d;e.context=c;e.count=0;return e}return{result:a,keyPrefix:b,func:d,context:c,count:0}}\nfunction R(a){a.result=null;a.keyPrefix=null;a.func=null;a.context=null;a.count=0;10>P.length&&P.push(a)}\nfunction S(a,b,d,c){var e=typeof a;if(\"undefined\"===e||\"boolean\"===e)a=null;var g=!1;if(null===a)g=!0;else switch(e){case \"string\":case \"number\":g=!0;break;case \"object\":switch(a.$$typeof){case p:case q:g=!0}}if(g)return d(c,a,\"\"===b?\".\"+T(a,0):b),1;g=0;b=\"\"===b?\".\":b+\":\";if(Array.isArray(a))for(var h=0;h<a.length;h++){e=a[h];var f=b+T(e,h);g+=S(e,f,d,c)}else if(null===a||\"object\"!==typeof a?f=null:(f=A&&a[A]||a[\"@@iterator\"],f=\"function\"===typeof f?f:null),\"function\"===typeof f)for(a=f.call(a),h=\n0;!(e=a.next()).done;)e=e.value,f=b+T(e,h++),g+=S(e,f,d,c);else\"object\"===e&&(d=\"\"+a,B(\"31\",\"[object Object]\"===d?\"object with keys {\"+Object.keys(a).join(\", \")+\"}\":d,\"\"));return g}function U(a,b,d){return null==a?0:S(a,\"\",b,d)}function T(a,b){return\"object\"===typeof a&&null!==a&&null!=a.key?escape(a.key):b.toString(36)}function ea(a,b){a.func.call(a.context,b,a.count++)}\nfunction fa(a,b,d){var c=a.result,e=a.keyPrefix;a=a.func.call(a.context,b,a.count++);Array.isArray(a)?V(a,c,d,function(a){return a}):null!=a&&(N(a)&&(a=da(a,e+(!a.key||b&&b.key===a.key?\"\":(\"\"+a.key).replace(O,\"$&/\")+\"/\")+d)),c.push(a))}function V(a,b,d,c,e){var g=\"\";null!=d&&(g=(\"\"+d).replace(O,\"$&/\")+\"/\");b=Q(b,g,c,e);U(a,fa,b);R(b)}function W(){var a=I.current;null===a?B(\"321\"):void 0;return a}\nvar X={Children:{map:function(a,b,d){if(null==a)return a;var c=[];V(a,c,null,b,d);return c},forEach:function(a,b,d){if(null==a)return a;b=Q(null,null,b,d);U(a,ea,b);R(b)},count:function(a){return U(a,function(){return null},null)},toArray:function(a){var b=[];V(a,b,null,function(a){return a});return b},only:function(a){N(a)?void 0:B(\"143\");return a}},createRef:function(){return{current:null}},Component:E,PureComponent:G,createContext:function(a,b){void 0===b&&(b=null);a={$$typeof:w,_calculateChangedBits:b,\n_currentValue:a,_currentValue2:a,_threadCount:0,Provider:null,Consumer:null};a.Provider={$$typeof:v,_context:a};return a.Consumer=a},forwardRef:function(a){return{$$typeof:y,render:a}},lazy:function(a){return{$$typeof:ba,_ctor:a,_status:-1,_result:null}},memo:function(a,b){return{$$typeof:aa,type:a,compare:void 0===b?null:b}},useCallback:function(a,b){return W().useCallback(a,b)},useContext:function(a,b){return W().useContext(a,b)},useEffect:function(a,b){return W().useEffect(a,b)},useImperativeHandle:function(a,\nb,d){return W().useImperativeHandle(a,b,d)},useDebugValue:function(){},useLayoutEffect:function(a,b){return W().useLayoutEffect(a,b)},useMemo:function(a,b){return W().useMemo(a,b)},useReducer:function(a,b,d){return W().useReducer(a,b,d)},useRef:function(a){return W().useRef(a)},useState:function(a){return W().useState(a)},Fragment:r,StrictMode:t,Suspense:z,createElement:M,cloneElement:function(a,b,d){null===a||void 0===a?B(\"267\",a):void 0;var c=void 0,e=k({},a.props),g=a.key,h=a.ref,f=a._owner;if(null!=\nb){void 0!==b.ref&&(h=b.ref,f=J.current);void 0!==b.key&&(g=\"\"+b.key);var l=void 0;a.type&&a.type.defaultProps&&(l=a.type.defaultProps);for(c in b)K.call(b,c)&&!L.hasOwnProperty(c)&&(e[c]=void 0===b[c]&&void 0!==l?l[c]:b[c])}c=arguments.length-2;if(1===c)e.children=d;else if(1<c){l=Array(c);for(var m=0;m<c;m++)l[m]=arguments[m+2];e.children=l}return{$$typeof:p,type:a.type,key:g,ref:h,props:e,_owner:f}},createFactory:function(a){var b=M.bind(null,a);b.type=a;return b},isValidElement:N,version:\"16.8.6\",\nunstable_ConcurrentMode:x,unstable_Profiler:u,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentDispatcher:I,ReactCurrentOwner:J,assign:k}},Y={default:X},Z=Y&&X||Y;module.exports=Z.default||Z;\n","/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/\n\n'use strict';\n/* eslint-disable no-unused-vars */\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction shouldUseNative() {\n\ttry {\n\t\tif (!Object.assign) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Detect buggy property enumeration order in older V8 versions.\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\t\tvar test1 = new String('abc');  // eslint-disable-line no-new-wrappers\n\t\ttest1[5] = 'de';\n\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test2 = {};\n\t\tfor (var i = 0; i < 10; i++) {\n\t\t\ttest2['_' + String.fromCharCode(i)] = i;\n\t\t}\n\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n\t\t\treturn test2[n];\n\t\t});\n\t\tif (order2.join('') !== '0123456789') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test3 = {};\n\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n\t\t\ttest3[letter] = letter;\n\t\t});\n\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\n\t\t\t\t'abcdefghijklmnopqrst') {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t} catch (err) {\n\t\t// We don't expect any of the above to throw, but better to be safe.\n\t\treturn false;\n\t}\n}\n\nmodule.exports = shouldUseNative() ? Object.assign : function (target, source) {\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (getOwnPropertySymbols) {\n\t\t\tsymbols = getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule getContentStateFragment\n * @format\n * \n */\n\n'use strict';\n\nvar randomizeBlockMapKeys = require('./randomizeBlockMapKeys');\nvar removeEntitiesAtEdges = require('./removeEntitiesAtEdges');\n\nvar getContentStateFragment = function getContentStateFragment(contentState, selectionState) {\n  var startKey = selectionState.getStartKey();\n  var startOffset = selectionState.getStartOffset();\n  var endKey = selectionState.getEndKey();\n  var endOffset = selectionState.getEndOffset();\n\n  // Edge entities should be stripped to ensure that we don't preserve\n  // invalid partial entities when the fragment is reused. We do, however,\n  // preserve entities that are entirely within the selection range.\n  var contentWithoutEdgeEntities = removeEntitiesAtEdges(contentState, selectionState);\n\n  var blockMap = contentWithoutEdgeEntities.getBlockMap();\n  var blockKeys = blockMap.keySeq();\n  var startIndex = blockKeys.indexOf(startKey);\n  var endIndex = blockKeys.indexOf(endKey) + 1;\n\n  return randomizeBlockMapKeys(blockMap.slice(startIndex, endIndex).map(function (block, blockKey) {\n    var text = block.getText();\n    var chars = block.getCharacterList();\n\n    if (startKey === endKey) {\n      return block.merge({\n        text: text.slice(startOffset, endOffset),\n        characterList: chars.slice(startOffset, endOffset)\n      });\n    }\n\n    if (blockKey === startKey) {\n      return block.merge({\n        text: text.slice(startOffset),\n        characterList: chars.slice(startOffset)\n      });\n    }\n\n    if (blockKey === endKey) {\n      return block.merge({\n        text: text.slice(0, endOffset),\n        characterList: chars.slice(0, endOffset)\n      });\n    }\n\n    return block;\n  }));\n};\n\nmodule.exports = getContentStateFragment;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule randomizeBlockMapKeys\n * @format\n * \n */\n\n'use strict';\n\nvar ContentBlockNode = require('./ContentBlockNode');\nvar Immutable = require('immutable');\n\nvar generateRandomKey = require('./generateRandomKey');\n\nvar OrderedMap = Immutable.OrderedMap;\n\n\nvar randomizeContentBlockNodeKeys = function randomizeContentBlockNodeKeys(blockMap) {\n  var newKeysRef = {};\n\n  // we keep track of root blocks in order to update subsequent sibling links\n  var lastRootBlock = void 0;\n\n  return OrderedMap(blockMap.withMutations(function (blockMapState) {\n    blockMapState.forEach(function (block, index) {\n      var oldKey = block.getKey();\n      var nextKey = block.getNextSiblingKey();\n      var prevKey = block.getPrevSiblingKey();\n      var childrenKeys = block.getChildKeys();\n      var parentKey = block.getParentKey();\n\n      // new key that we will use to build linking\n      var key = generateRandomKey();\n\n      // we will add it here to re-use it later\n      newKeysRef[oldKey] = key;\n\n      if (nextKey) {\n        var nextBlock = blockMapState.get(nextKey);\n        if (nextBlock) {\n          blockMapState.setIn([nextKey, 'prevSibling'], key);\n        } else {\n          // this can happen when generating random keys for fragments\n          blockMapState.setIn([oldKey, 'nextSibling'], null);\n        }\n      }\n\n      if (prevKey) {\n        var prevBlock = blockMapState.get(prevKey);\n        if (prevBlock) {\n          blockMapState.setIn([prevKey, 'nextSibling'], key);\n        } else {\n          // this can happen when generating random keys for fragments\n          blockMapState.setIn([oldKey, 'prevSibling'], null);\n        }\n      }\n\n      if (parentKey && blockMapState.get(parentKey)) {\n        var parentBlock = blockMapState.get(parentKey);\n        var parentChildrenList = parentBlock.getChildKeys();\n        blockMapState.setIn([parentKey, 'children'], parentChildrenList.set(parentChildrenList.indexOf(block.getKey()), key));\n      } else {\n        // blocks will then be treated as root block nodes\n        blockMapState.setIn([oldKey, 'parent'], null);\n\n        if (lastRootBlock) {\n          blockMapState.setIn([lastRootBlock.getKey(), 'nextSibling'], key);\n          blockMapState.setIn([oldKey, 'prevSibling'], newKeysRef[lastRootBlock.getKey()]);\n        }\n\n        lastRootBlock = blockMapState.get(oldKey);\n      }\n\n      childrenKeys.forEach(function (childKey) {\n        var childBlock = blockMapState.get(childKey);\n        if (childBlock) {\n          blockMapState.setIn([childKey, 'parent'], key);\n        } else {\n          blockMapState.setIn([oldKey, 'children'], block.getChildKeys().filter(function (child) {\n            return child !== childKey;\n          }));\n        }\n      });\n    });\n  }).toArray().map(function (block) {\n    return [newKeysRef[block.getKey()], block.set('key', newKeysRef[block.getKey()])];\n  }));\n};\n\nvar randomizeContentBlockKeys = function randomizeContentBlockKeys(blockMap) {\n  return OrderedMap(blockMap.toArray().map(function (block) {\n    var key = generateRandomKey();\n    return [key, block.set('key', key)];\n  }));\n};\n\nvar randomizeBlockMapKeys = function randomizeBlockMapKeys(blockMap) {\n  var isTreeBasedBlockMap = blockMap.first() instanceof ContentBlockNode;\n\n  if (!isTreeBasedBlockMap) {\n    return randomizeContentBlockKeys(blockMap);\n  }\n\n  return randomizeContentBlockNodeKeys(blockMap);\n};\n\nmodule.exports = randomizeBlockMapKeys;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule ContentBlockNode\n * @format\n * \n *\n * This file is a fork of ContentBlock adding support for nesting references by\n * providing links to children, parent, prevSibling, and nextSibling.\n *\n * This is unstable and not part of the public API and should not be used by\n * production systems. This file may be update/removed without notice.\n */\n\n'use strict';\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar CharacterMetadata = require('./CharacterMetadata');\nvar Immutable = require('immutable');\n\nvar findRangesImmutable = require('./findRangesImmutable');\n\nvar List = Immutable.List,\n    Map = Immutable.Map,\n    OrderedSet = Immutable.OrderedSet,\n    Record = Immutable.Record,\n    Repeat = Immutable.Repeat;\n\n\nvar EMPTY_SET = OrderedSet();\n\nvar defaultRecord = {\n  parent: null,\n  characterList: List(),\n  data: Map(),\n  depth: 0,\n  key: '',\n  text: '',\n  type: 'unstyled',\n  children: List(),\n  prevSibling: null,\n  nextSibling: null\n};\n\nvar haveEqualStyle = function haveEqualStyle(charA, charB) {\n  return charA.getStyle() === charB.getStyle();\n};\n\nvar haveEqualEntity = function haveEqualEntity(charA, charB) {\n  return charA.getEntity() === charB.getEntity();\n};\n\nvar decorateCharacterList = function decorateCharacterList(config) {\n  if (!config) {\n    return config;\n  }\n\n  var characterList = config.characterList,\n      text = config.text;\n\n\n  if (text && !characterList) {\n    config.characterList = List(Repeat(CharacterMetadata.EMPTY, text.length));\n  }\n\n  return config;\n};\n\nvar ContentBlockNode = function (_Record) {\n  _inherits(ContentBlockNode, _Record);\n\n  function ContentBlockNode() {\n    var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : defaultRecord;\n\n    _classCallCheck(this, ContentBlockNode);\n\n    return _possibleConstructorReturn(this, _Record.call(this, decorateCharacterList(props)));\n  }\n\n  ContentBlockNode.prototype.getKey = function getKey() {\n    return this.get('key');\n  };\n\n  ContentBlockNode.prototype.getType = function getType() {\n    return this.get('type');\n  };\n\n  ContentBlockNode.prototype.getText = function getText() {\n    return this.get('text');\n  };\n\n  ContentBlockNode.prototype.getCharacterList = function getCharacterList() {\n    return this.get('characterList');\n  };\n\n  ContentBlockNode.prototype.getLength = function getLength() {\n    return this.getText().length;\n  };\n\n  ContentBlockNode.prototype.getDepth = function getDepth() {\n    return this.get('depth');\n  };\n\n  ContentBlockNode.prototype.getData = function getData() {\n    return this.get('data');\n  };\n\n  ContentBlockNode.prototype.getInlineStyleAt = function getInlineStyleAt(offset) {\n    var character = this.getCharacterList().get(offset);\n    return character ? character.getStyle() : EMPTY_SET;\n  };\n\n  ContentBlockNode.prototype.getEntityAt = function getEntityAt(offset) {\n    var character = this.getCharacterList().get(offset);\n    return character ? character.getEntity() : null;\n  };\n\n  ContentBlockNode.prototype.getChildKeys = function getChildKeys() {\n    return this.get('children');\n  };\n\n  ContentBlockNode.prototype.getParentKey = function getParentKey() {\n    return this.get('parent');\n  };\n\n  ContentBlockNode.prototype.getPrevSiblingKey = function getPrevSiblingKey() {\n    return this.get('prevSibling');\n  };\n\n  ContentBlockNode.prototype.getNextSiblingKey = function getNextSiblingKey() {\n    return this.get('nextSibling');\n  };\n\n  ContentBlockNode.prototype.findStyleRanges = function findStyleRanges(filterFn, callback) {\n    findRangesImmutable(this.getCharacterList(), haveEqualStyle, filterFn, callback);\n  };\n\n  ContentBlockNode.prototype.findEntityRanges = function findEntityRanges(filterFn, callback) {\n    findRangesImmutable(this.getCharacterList(), haveEqualEntity, filterFn, callback);\n  };\n\n  return ContentBlockNode;\n}(Record(defaultRecord));\n\nmodule.exports = ContentBlockNode;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule generateRandomKey\n * @format\n * \n */\n\n'use strict';\n\nvar seenKeys = {};\nvar MULTIPLIER = Math.pow(2, 24);\n\nfunction generateRandomKey() {\n  var key = void 0;\n  while (key === undefined || seenKeys.hasOwnProperty(key) || !isNaN(+key)) {\n    key = Math.floor(Math.random() * MULTIPLIER).toString(32);\n  }\n  seenKeys[key] = true;\n  return key;\n}\n\nmodule.exports = generateRandomKey;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule removeEntitiesAtEdges\n * @format\n * \n */\n\n'use strict';\n\nvar CharacterMetadata = require('./CharacterMetadata');\n\nvar findRangesImmutable = require('./findRangesImmutable');\nvar invariant = require('fbjs/lib/invariant');\n\nfunction removeEntitiesAtEdges(contentState, selectionState) {\n  var blockMap = contentState.getBlockMap();\n  var entityMap = contentState.getEntityMap();\n\n  var updatedBlocks = {};\n\n  var startKey = selectionState.getStartKey();\n  var startOffset = selectionState.getStartOffset();\n  var startBlock = blockMap.get(startKey);\n  var updatedStart = removeForBlock(entityMap, startBlock, startOffset);\n\n  if (updatedStart !== startBlock) {\n    updatedBlocks[startKey] = updatedStart;\n  }\n\n  var endKey = selectionState.getEndKey();\n  var endOffset = selectionState.getEndOffset();\n  var endBlock = blockMap.get(endKey);\n  if (startKey === endKey) {\n    endBlock = updatedStart;\n  }\n\n  var updatedEnd = removeForBlock(entityMap, endBlock, endOffset);\n\n  if (updatedEnd !== endBlock) {\n    updatedBlocks[endKey] = updatedEnd;\n  }\n\n  if (!Object.keys(updatedBlocks).length) {\n    return contentState.set('selectionAfter', selectionState);\n  }\n\n  return contentState.merge({\n    blockMap: blockMap.merge(updatedBlocks),\n    selectionAfter: selectionState\n  });\n}\n\nfunction getRemovalRange(characters, key, offset) {\n  var removalRange;\n  findRangesImmutable(characters, function (a, b) {\n    return a.getEntity() === b.getEntity();\n  }, function (element) {\n    return element.getEntity() === key;\n  }, function (start, end) {\n    if (start <= offset && end >= offset) {\n      removalRange = { start: start, end: end };\n    }\n  });\n  !(typeof removalRange === 'object') ? process.env.NODE_ENV !== 'production' ? invariant(false, 'Removal range must exist within character list.') : invariant(false) : void 0;\n  return removalRange;\n}\n\nfunction removeForBlock(entityMap, block, offset) {\n  var chars = block.getCharacterList();\n  var charBefore = offset > 0 ? chars.get(offset - 1) : undefined;\n  var charAfter = offset < chars.count() ? chars.get(offset) : undefined;\n  var entityBeforeCursor = charBefore ? charBefore.getEntity() : undefined;\n  var entityAfterCursor = charAfter ? charAfter.getEntity() : undefined;\n\n  if (entityAfterCursor && entityAfterCursor === entityBeforeCursor) {\n    var entity = entityMap.__get(entityAfterCursor);\n    if (entity.getMutability() !== 'MUTABLE') {\n      var _getRemovalRange = getRemovalRange(chars, entityAfterCursor, offset),\n          start = _getRemovalRange.start,\n          end = _getRemovalRange.end;\n\n      var current;\n      while (start < end) {\n        current = chars.get(start);\n        chars = chars.set(start, CharacterMetadata.applyEntity(current, null));\n        start++;\n      }\n      return block.set('characterList', chars);\n    }\n  }\n\n  return block;\n}\n\nmodule.exports = removeEntitiesAtEdges;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\n\n'use strict';\n\n/**\n * Use invariant() to assert state which your program assumes to be true.\n *\n * Provide sprintf-style format (only %s is supported) and arguments\n * to provide information about what broke and what you were\n * expecting.\n *\n * The invariant message will be stripped in production, but the invariant\n * will remain to ensure logic does not differ in production.\n */\n\nvar validateFormat = function validateFormat(format) {};\n\nif (process.env.NODE_ENV !== 'production') {\n  validateFormat = function validateFormat(format) {\n    if (format === undefined) {\n      throw new Error('invariant requires an error message argument');\n    }\n  };\n}\n\nfunction invariant(condition, format, a, b, c, d, e, f) {\n  validateFormat(format);\n\n  if (!condition) {\n    var error;\n    if (format === undefined) {\n      error = new Error('Minified exception occurred; use the non-minified dev environment ' + 'for the full error message and additional helpful warnings.');\n    } else {\n      var args = [a, b, c, d, e, f];\n      var argIndex = 0;\n      error = new Error(format.replace(/%s/g, function () {\n        return args[argIndex++];\n      }));\n      error.name = 'Invariant Violation';\n    }\n\n    error.framesToPop = 1; // we don't care about invariant's own frame\n    throw error;\n  }\n}\n\nmodule.exports = invariant;","function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nmodule.exports = _arrayWithHoles;","function _iterableToArrayLimit(arr, i) {\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nmodule.exports = _iterableToArrayLimit;","function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\nmodule.exports = _nonIterableRest;","export default {\n  base: {\n    remove: 'Remove',\n    cancel: 'Cancel',\n    confirm: 'Confirm',\n    inert: 'Insert',\n    width: 'Width',\n    height: 'Height'\n  },\n  controls: {\n    clear: 'Clear',\n    undo: 'Undo',\n    redo: 'Redo',\n    fontSize: 'Font Size',\n    color: 'Color',\n    textColor: 'Text',\n    tempColors: 'Temp Colors',\n    backgroundColor: 'Background',\n    bold: 'Bold',\n    lineHeight:'Line Height',\n    letterSpacing:'Letter Spacing',\n    textIndent:'Text Indent',\n    increaseIndent: 'Increase Indent',\n    decreaseIndent: 'Decrease Indent',\n    italic: 'Italic',\n    underline: 'Underline',\n    strikeThrough: 'Strike Through',\n    fontFamily: 'Font Family',\n    textAlign: 'Text Alignment',\n    alignLeft: 'Left Alignment',\n    alignCenter: 'Center Alignment',\n    alignRight: 'Right Alignment',\n    alignJustify: 'Justify Alignment',\n    floatLeft: 'Left Float',\n    floatRight: 'Right Float',\n    superScript: 'Super Script',\n    subScript: 'Sub Script',\n    removeStyles: 'Remove Styles',\n    headings: 'Headings',\n    header: 'Header',\n    normal: 'Normal',\n    orderedList: 'Ordered List',\n    unorderedList: 'Unordered List',\n    blockQuote: 'Quote',\n    code: 'Code',\n    link: 'Link',\n    unlink: 'Unlink',\n    hr: 'Horizontal Line',\n    media: 'Media',\n    mediaLibirary: 'Media Library',\n    emoji: 'Emoji',\n    fullscreen: 'Fullscreen',\n    exitFullscreen: 'Exit Fullscreen',\n  },\n  linkEditor: {\n    textInputPlaceHolder: 'Input link text',\n    linkInputPlaceHolder: 'Input link URL',\n    inputWithEnterPlaceHolder: 'Input link URL and press Enter',\n    openInNewWindow: 'Open in new window',\n    removeLink: 'Remove Link'\n  },\n  audioPlayer: {\n    title: 'Play Audio'\n  },\n  videoPlayer: {\n    title: 'Play Video',\n    embedTitle: 'Embed Media'\n  },\n  media: {\n    image: 'Image',\n    video: 'Video',\n    audio: 'Audio',\n    embed: 'Embed'\n  }\n}","export default {\n  base: {\n    remove: '',\n    cancel: '',\n    confirm: '',\n    inert: '',\n    width: '',\n    height: ''\n  },\n  controls: {\n    clear: '',\n    undo: '',\n    redo: '',\n    fontSize: '',\n    lineHeight: '',\n    letterSpacing: '',\n    textIndent: '',\n    increaseIndent: '',\n    decreaseIndent: '',\n    border: '',\n    color: '',\n    textColor: '',\n    backgroundColor: '',\n    tempColors: '',\n    bold: '',\n    italic: '',\n    underline: '',\n    strikeThrough: '',\n    fontFamily: '',\n    textAlign: '',\n    alignLeft: '',\n    alignCenter: '',\n    alignRight: '',\n    alignJustify: '',\n    floatLeft: '',\n    floatRight: '',\n    superScript: '',\n    subScript: '',\n    removeStyles: '',\n    headings: '',\n    header: '',\n    normal: '',\n    orderedList: '',\n    unorderedList: '',\n    blockQuote: '',\n    code: '',\n    link: '',\n    unlink: '',\n    hr: '',\n    media: '',\n    mediaLibirary: '',\n    emoji: '',\n    fullscreen: '',\n    exitFullscreen: '',\n  },\n  linkEditor: {\n    textInputPlaceHolder: '',\n    linkInputPlaceHolder: '',\n    inputWithEnterPlaceHolder: '',\n    openInNewWindow: '',\n    removeLink: ''\n  },\n  audioPlayer: {\n    title: ''\n  },\n  videoPlayer: {\n    title: '',\n    embedTitle: ''\n  },\n  media: {\n    image: '',\n    video: '',\n    audio: '',\n    embed: ''\n  }\n}","export default {\n  base: {\n    remove: '',\n    cancel: '',\n    confirm: '',\n    inert: '',\n    width: '',\n    height: ''\n  },\n  controls: {\n    clear: '',\n    undo: '',\n    redo: '',\n    fontSize: '',\n    color: '',\n    textColor: '',\n    backgroundColor: '',\n    tempColors: '',\n    bold: '',\n    lineHeight: '',\n    letterSpacing: '',\n    textIndent: '',\n    increaseIndent: '',\n    decreaseIndent: '',\n    border: '',\n    italic: '',\n    underline: '',\n    strikeThrough: '',\n    fontFamily: '',\n    textAlign: '',\n    alignLeft: '',\n    alignCenter: '',\n    alignRight: '',\n    alignJustify: '',\n    floatLeft: '',\n    floatRight: '',\n    superScript: '',\n    subScript: '',\n    removeStyles: '',\n    headings: '',\n    header: '',\n    normal: '',\n    orderedList: '',\n    unorderedList: '',\n    blockQuote: '',\n    code: '',\n    link: '',\n    unlink: '',\n    hr: '',\n    media: '',\n    mediaLibirary: '',\n    emoji: '',\n    fullscreen: '',\n    exitFullscreen: '',\n  },\n  linkEditor: {\n    textInputPlaceHolder: '',\n    linkInputPlaceHolder: '',\n    inputWithEnterPlaceHolder: '',\n    openInNewWindow: '',\n    removeLink: ''\n  },\n  audioPlayer: {\n    title: ''\n  },\n  videoPlayer: {\n    title: '',\n    embedTitle: ''\n  },\n  media: {\n    image: '',\n    video: '',\n    audio: '',\n    embed: ''\n  }\n}","export default {\n  base: {\n    remove: 'Usu',\n    cancel: 'Anuluj',\n    confirm: 'Potwierd',\n    inert: 'Wstaw',\n    width: 'Szeroko',\n    height: 'Wysoko'\n  },\n  controls: {\n    clear: 'Wyczy',\n    undo: 'Cofnij',\n    redo: 'Przywr',\n    fontSize: 'Wielko',\n    color: 'Kolor',\n    textColor: 'Kolor tekstu',\n    tempColors: 'Kolory',\n    backgroundColor: 'To',\n    bold: 'Pogrubienie',\n    lineHeight:'Wysoko linii',\n    letterSpacing:'Odstp znakw',\n    textIndent:'Wcicie tekstu',\n    increaseIndent: 'Zwiksz wcicie',\n    decreaseIndent: 'Zmniejsz wcicie',\n    italic: 'Italiki',\n    underline: 'Podkrelenie',\n    strikeThrough: 'Przekrelenie',\n    fontFamily: 'Czcionka',\n    textAlign: 'Wyrwnanie tekstu',\n    alignLeft: 'Do lewej',\n    alignCenter: 'Wycentruj',\n    alignRight: 'Do prawej',\n    alignJustify: 'Wyjustuj',\n    floatLeft: 'Do lewej',\n    floatRight: 'Do prawej',\n    superScript: 'Superskrypt',\n    subScript: 'Subskrypt',\n    removeStyles: 'Usu stylowanie',\n    headings: 'Nagwki',\n    header: 'Nagwek',\n    normal: 'Normalny',\n    orderedList: 'Lista uporzdkowana',\n    unorderedList: 'Lista nieuporzdkowana',\n    blockQuote: 'Cytat',\n    code: 'Kod',\n    link: 'Link',\n    unlink: 'Usu link',\n    hr: 'Linia pozioma',\n    media: 'Media',\n    mediaLibirary: 'Biblioteka mediw',\n    emoji: 'Emoji'\n  },\n  linkEditor: {\n    textInputPlaceHolder: 'Wpisz tekst linku',\n    linkInputPlaceHolder: 'Wpisz Adres URL',\n    inputWithEnterPlaceHolder: 'Wpisz adres URL i nacinij Enter',\n    openInNewWindow: 'Otwrz w nowym oknie',\n    removeLink: 'Usu link'\n  },\n  audioPlayer: {\n    title: 'Odtwrz audio'\n  },\n  videoPlayer: {\n    title: 'Odtwrz wideo',\n    embedTitle: 'Tytu'\n  },\n  media: {\n    image: 'Obraz',\n    video: 'Wideo',\n    audio: 'Audio',\n    embed: 'Obiekt osadzony'\n  }\n}","export default {\n  base: {\n    remove: '',\n    cancel: '',\n    confirm: '',\n    inert: '',\n    width: '',\n    height: ''\n  },\n  controls: {\n    clear: '',\n    undo: '',\n    redo: '',\n    fontSize: '',\n    lineHeight: '',\n    letterSpacing: '',\n    textIndent: '',\n    increaseIndent: '',\n    decreaseIndent: '',\n    border: '',\n    color: '',\n    textColor: '',\n    backgroundColor: '',\n    tempColors: '',\n    bold: '',\n    italic: '',\n    underline: '',\n    strikeThrough: '',\n    fontFamily: '',\n    textAlign: '',\n    alignLeft: '',\n    alignCenter: '',\n    alignRight: '',\n    alignJustify: '',\n    floatLeft: '',\n    floatRight: '',\n    superScript: '',\n    subScript: '',\n    removeStyles: '',\n    headings: '',\n    header: '',\n    normal: '',\n    orderedList: '',\n    unorderedList: '',\n    blockQuote: '',\n    code: '',\n    link: '',\n    unlink: '',\n    hr: '',\n    media: '',\n    mediaLibirary: '',\n    emoji: '',\n    fullscreen: '',\n    exitFullscreen: '',\n  },\n  linkEditor: {\n    textInputPlaceHolder: '',\n    linkInputPlaceHolder: '',\n    inputWithEnterPlaceHolder: '.',\n    openInNewWindow: '',\n    removeLink: ''\n  },\n  audioPlayer: {\n    title: ''\n  },\n  videoPlayer: {\n    title: '',\n    embedTitle: ''\n  },\n  media: {\n    image: '',\n    video: '',\n    audio: '',\n    embed: ''\n  }\n}","export default {\n  base: {\n    remove: 'Kaldr',\n    cancel: 'ptal',\n    confirm: 'Onayla',\n    inert: 'Ekle',\n    width: 'Genilik',\n    height: 'Ykseklik'\n  },\n  controls: {\n    clear: 'Temizle',\n    undo: 'Geri al',\n    redo: 'leri al',\n    fontSize: 'Yaz boyutu',\n    color: 'Renk',\n    textColor: 'Yaz rengi',\n    tempColors: 'Geici renkler',\n    backgroundColor: 'Arkaplan',\n    bold: 'Kaln',\n    lineHeight:'Satr ykseklii',\n    letterSpacing:'Harf aral',\n    textIndent:'entik aral',\n    increaseIndent: 'entii genilet',\n    decreaseIndent: 'entii daralt',\n    italic: 'Eik',\n    underline: 'Alt izili',\n    strikeThrough: 'st izili',\n    fontFamily: 'Yaz tipi',\n    textAlign: 'Metin Hizalama',\n    alignLeft: 'Sola hizala',\n    alignCenter: 'Ortaya hizala',\n    alignRight: 'Saa hizala',\n    alignJustify: 'Her iki tarafa hizala',\n    floatLeft: 'Sola yatr',\n    floatRight: 'Saa yatr',\n    superScript: 'Ana kod',\n    subScript: 'Alt kod',\n    removeStyles: 'Stilleri kaldr',\n    headings: 'Balklar',\n    header: 'Balk',\n    normal: 'Normal',\n    orderedList: 'Sral liste',\n    unorderedList: 'Srasz liste',\n    blockQuote: 'Alnt',\n    code: 'Kod',\n    link: 'Balant',\n    unlink: 'Balanty kaldr',\n    hr: 'Yatay izgi',\n    media: 'Medya',\n    mediaLibirary: 'Ktphane',\n    emoji: 'fade',\n    fullscreen: 'Tam ekran',\n    exitFullscreen: 'Tam ekrandan k',\n  },\n  linkEditor: {\n    textInputPlaceHolder: 'Balant metnini girin',\n    linkInputPlaceHolder: 'Balant URL\\' si girin',\n    inputWithEnterPlaceHolder: 'Balant URL\\'si girin ve Enter\\' a basn',\n    openInNewWindow: 'Yeni pencerede a',\n    removeLink: 'Balanty kaldr'\n  },\n  audioPlayer: {\n    title: 'Ses al'\n  },\n  videoPlayer: {\n    title: 'Grnt oynat',\n    embedTitle: 'Grnty gm'\n  },\n  media: {\n    image: 'Resim',\n    video: 'Grnt',\n    audio: 'Ses',\n    embed: 'Gml nesne'\n  }\n}\n","export default {\n  base: {\n    remove: '',\n    cancel: '',\n    confirm: '',\n    inert: '',\n    width: '',\n    height: ''\n  },\n  controls: {\n    clear: '',\n    undo: '',\n    redo: '',\n    fontSize: '',\n    lineHeight: '',\n    letterSpacing: '',\n    textIndent: '',\n    increaseIndent: '',\n    decreaseIndent: '',\n    border: '',\n    color: '',\n    textColor: '',\n    backgroundColor: '',\n    tempColors: '',\n    bold: '',\n    italic: '',\n    underline: '',\n    strikeThrough: '',\n    fontFamily: '',\n    textAlign: '',\n    alignLeft: '',\n    alignCenter: '',\n    alignRight: '',\n    alignJustify: '',\n    floatLeft: '',\n    floatRight: '',\n    superScript: '',\n    subScript: '',\n    removeStyles: '',\n    headings: '',\n    header: '',\n    normal: '',\n    orderedList: '',\n    unorderedList: '',\n    blockQuote: '',\n    code: '',\n    link: '',\n    unlink: '',\n    hr: '',\n    media: '',\n    mediaLibirary: '',\n    emoji: '',\n    fullscreen: '',\n    exitFullscreen: '',\n  },\n  linkEditor: {\n    textInputPlaceHolder: '',\n    linkInputPlaceHolder: '',\n    inputWithEnterPlaceHolder: '',\n    openInNewWindow: '',\n    removeLink: ''\n  },\n  audioPlayer: {\n    title: ''\n  },\n  videoPlayer: {\n    title: '',\n    embedTitle: ''\n  },\n  media: {\n    image: '',\n    video: '',\n    audio: '',\n    embed: ''\n  }\n}","export default {\n  base: {\n    remove: '',\n    cancel: '',\n    confirm: '',\n    insert: '',\n    width: '',\n    height: ''\n  },\n  controls: {\n    clear: '',\n    undo: '',\n    redo: '',\n    fontSize: ' ',\n    color: '',\n    textColor: ' ',\n    tempColors: 'Temp Colors',\n    backgroundColor: ' ',\n    bold: '',\n    lineHeight: ' ',\n    letterSpacing: ' ',\n    textIndent: '',\n    increaseIndent: ' ',\n    decreaseIndent: ' ',\n    italic: '',\n    underline: '',\n    strikeThrough: '',\n    fontFamily: '',\n    textAlign: ' ',\n    alignLeft: '  ',\n    alignCenter: ' ',\n    alignRight: '  ',\n    alignJustify: ' ',\n    floatLeft: ' ',\n    floatRight: ' ',\n    superScript: ' ',\n    subScript: ' ',\n    removeStyles: ' ',\n    headings: '',\n    header: '',\n    normal: '',\n    orderedList: ' ',\n    unorderedList: ' ',\n    blockQuote: '',\n    code: '',\n    link: ' ',\n    unlink: ' ',\n    hr: ' ',\n    media: '',\n    mediaLibirary: ' ',\n    emoji: 'Emoji',\n    fullscreen: ' ',\n    exitFullscreen: '   '\n  },\n  linkEditor: {\n    textInputPlaceHolder: '  ',\n    linkInputPlaceHolder: ' ',\n    inputWithEnterPlaceHolder: '    Enter',\n    openInNewWindow: '   ',\n    removeLink: ' '\n  },\n  audioPlayer: {\n    title: ' '\n  },\n  videoPlayer: {\n    title: ' ',\n    embedTitle: 'Embed Media'\n  },\n  media: {\n    image: '',\n    video: '',\n    audio: '',\n    embed: ''\n  }\n}\n","export default {\n  base: {\n    remove: 'Supprimer',\n    cancel: 'Annuler',\n    confirm: 'Confirmer',\n    inert: 'Insrer',\n    width: 'Largeur',\n    height: 'Hauteur'\n  },\n  controls: {\n    clear: 'Effacer',\n    undo: 'Annuler',\n    redo: 'Refaire',\n    fontSize: 'Taille de police',\n    color: 'Couleur',\n    textColor: 'Texte',\n    tempColors: 'Couleurs temporaire',\n    backgroundColor: 'Couleur d\\'arrire plan',\n    bold: 'Gras',\n    lineHeight:'Hauteur de ligne',\n    letterSpacing:'Espacement des lettres',\n    textIndent:'Indentation du texte',\n    increaseIndent: 'Augmenter l\\'indentation',\n    decreaseIndent: 'Rduire l\\'indentation',\n    italic: 'Italique',\n    underline: 'Souligner',\n    strikeThrough: 'Barrer',\n    fontFamily: 'Police d\\'criture',\n    textAlign: 'Alignement du texte',\n    alignLeft: 'Aligner  gauche',\n    alignCenter: 'Aligner au centre',\n    alignRight: 'Aligner  droite',\n    alignJustify: 'Justifier',\n    floatLeft: 'Dplacer  gauche',\n    floatRight: 'Dplacer  droite',\n    superScript: 'Super-script',\n    subScript: 'Sous-script',\n    removeStyles: 'Supprimer les styles',\n    headings: 'Titres',\n    header: 'Enttes',\n    normal: 'Normal',\n    orderedList: 'Liste ordonne',\n    unorderedList: 'Liste non-ordonne',\n    blockQuote: 'Citation',\n    code: 'Code',\n    link: 'Insrer un lien',\n    unlink: 'Supprimer le lien',\n    hr: 'Ligne horizontale',\n    media: 'Mdia',\n    mediaLibirary: 'Bibliothque',\n    emoji: 'Emoji',\n    fullscreen: 'Plein cran',\n    exitFullscreen: 'Quitter le plein cran',\n  },\n  linkEditor: {\n    textInputPlaceHolder: 'Insrer le texte  afficher',\n    linkInputPlaceHolder: 'Insrer le lien URL',\n    inputWithEnterPlaceHolder: 'Insrer le lien URL puis appuyer sur Entre',\n    openInNewWindow: 'Ouvrir dans une nouvelle fentre',\n    removeLink: 'Supprimer le lien'\n  },\n  audioPlayer: {\n    title: 'Lancer le son audio'\n  },\n  videoPlayer: {\n    title: 'Lancer la video',\n    embedTitle: 'Intgrer mdia'\n  },\n  media: {\n    image: 'Image',\n    video: 'Vido',\n    audio: 'Audio',\n    embed: 'Intgr'\n  }\n}\n","export default {\n  base: {\n    remove: 'Remover',\n    cancel: 'Cancelar',\n    confirm: 'Confirmar',\n    inert: 'Inserir',\n    width: 'Largura',\n    height: 'Altura'\n  },\n  controls: {\n    clear: 'Limpar',\n    undo: 'Desfazer',\n    redo: 'Refazer',\n    fontSize: 'Tamanho da Fonte',\n    color: 'Cor',\n    textColor: 'Texto',\n    tempColors: 'Temp Colors',\n    backgroundColor: 'Cor de Fundo',\n    bold: 'Negrito',\n    lineHeight:'Altura da LinhaLine Height',\n    letterSpacing:'Espaamento entre Letras',\n    textIndent:'Identao de Texto',\n    increaseIndent: 'Aumentar Identao',\n    decreaseIndent: 'Diminuir Idento',\n    italic: 'Itlico',\n    underline: 'Sublinhado',\n    strikeThrough: 'Riscado',\n    fontFamily: 'Famlia da Fonte',\n    textAlign: 'Alinhamento de Texto',\n    alignLeft: 'Alinhamento  Esquerda',\n    alignCenter: 'Alinhamento Centralizado',\n    alignRight: 'Alinhamento  Direita',\n    alignJustify: 'Alinhamento Justificado',\n    floatLeft: 'Flutuao  Esquerda',\n    floatRight: 'Flutuao  Direita',\n    superScript: 'Sobrescrito',\n    subScript: 'Subscrito',\n    removeStyles: 'Remover Estilos',\n    headings: 'Cabealhos',\n    header: 'Cabealho',\n    normal: 'Normal',\n    orderedList: 'Lista Ordenada',\n    unorderedList: 'Lista No Ordenada',\n    blockQuote: 'Citao',\n    code: 'Cdigo',\n    link: 'Link',\n    unlink: 'Remover Link',\n    hr: 'Linha Horizontal',\n    media: 'Mdia',\n    mediaLibirary: 'Biblioteca de Mdia',\n    emoji: 'Emoji',\n    fullscreen: 'Tela Cheia',\n    exitFullscreen: 'Sair de Tela Cheia',\n  },\n  linkEditor: {\n    textInputPlaceHolder: 'Insira o texto do link',\n    linkInputPlaceHolder: 'Insira a URL do link',\n    inputWithEnterPlaceHolder: 'Insira a URL do link e aperte Enter',\n    openInNewWindow: 'Abrir em nova janela',\n    removeLink: 'Remover Link'\n  },\n  audioPlayer: {\n    title: 'Tocar udio'\n  },\n  videoPlayer: {\n    title: 'Tocar Vdeo',\n    embedTitle: 'Mdia Embutida'\n  },\n  media: {\n    image: 'Imagem',\n    video: 'Vdeo',\n    audio: 'udio',\n    embed: 'Embutido'\n  }\n}","import en from './en'\nimport zh from './zh'\nimport zhHant from './zh-hant'\nimport pl from './pl'\nimport kr from './kr'\nimport tr from './tr'\nimport jpn from './jpn'\nimport ru from './ru'\nimport fr from './fr'\nimport ptBr from './pt-br'\n\nexport default {\n  'en': en,\n  'zh': zh,\n  'zh-hant': zhHant,\n  'pl': pl,\n  'kr': kr,\n  'tr': tr,\n  'jpn': jpn,\n  'ru': ru,\n  'fr': fr,\n  'pt-br': ptBr\n}\n","import { getDefaultKeyBinding, KeyBindingUtil } from 'draft-js'\n\n// TODO\n// \n\nexport default (customKeyBindingFn) => (event) => {\n\n  if (event.keyCode === 83 && (KeyBindingUtil.hasCommandModifier(event) || KeyBindingUtil.isCtrlKeyCommand(event))) {\n    return 'braft-save'\n  }\n\n  if (customKeyBindingFn) {\n    return customKeyBindingFn(event) || getDefaultKeyBinding(event)\n  }\n\n  return getDefaultKeyBinding(event)\n\n}\n","\nimport { render } from 'react-dom';\nimport React from 'React';\n\nexport default class SuggestionList extends React.Component {\n    normalizeIndex = (selectedIndex, max) => {\n        let index = selectedIndex % max;\n        if (index < 0) {\n            index += max;\n        }\n        return index;\n    }\n\n    render() {\n        const {\n            suggestionsState\n        } = this.props;\n        const {\n            left,\n            top,\n            array,\n            selectedIndex\n        } = suggestionsState;\n        if (!array) {\n            return null;\n        }\n        return (<ul style={{\n            position: 'fixed',\n            left,\n            top,\n            borderRadius: 3,\n            margin: 0,\n            padding: 0,\n            background: 'white',\n            zIndex: 1000,\n            boxShadow: '0 0 0 1px rgba(0, 0, 0, .1), 0 1px 10px rgba(0, 0, 0, .35)',\n            listStyleType: 'none'\n        }}>\n            {\n                array.map((person, index) => {\n                    return (\n\n                        index === selectedIndex ? <li style={{\n\n                            margin: 0,\n                            padding: '16px 24px',\n                            background: '#a7b5bf',\n                            color: 'white',\n                            borderRadius: 3\n\n                        }} key={person} onMouseOver = {() => {this.props.onSelectedChange(index)}} onMouseDown={this.props.onMentionSelect}>\n                            {person}\n                        </li> : <li onMouseOver = {() => {this.props.onSelectedChange(index)}} onMouseDown = {this.props.onMentionSelect} style={{\n\n                            margin: 0,\n                            padding: '16px 24px',\n                            color: '#343d46'\n                        }} key={person}>\n                                {person}\n                            </li>\n\n\n                    );\n                }, this)\n            }\n\n            <button onClick = {() => (console.log('aaa'))}>sakdjaskdjaksjdlkaj</button>\n        </ul>)\n    }\n}\n","import { Entity, Modifier, Editor, EditorState } from 'draft-js';\n\nconst addSuggestion = ({editorState, start, end, trigger, text}) => {\n  const entityKey = Entity.create('MENTION', 'IMMUTABLE', \"http://vk.com\");\n  const currentSelectionState = editorState.getSelection();\n  const mentionTextSelection = currentSelectionState.merge({\n    anchorOffset: start,\n    focusOffset: end\n  });\n\n  let insertingContent = Modifier.replaceText(\n    editorState.getCurrentContent(),\n    mentionTextSelection,\n    text, ['link', 'BOLD'],\n    entityKey\n  );\n\n  const blockKey = mentionTextSelection.getAnchorKey();\n  const blockSize = editorState.getCurrentContent().getBlockForKey(blockKey).getLength();\n  if (blockSize === end) {\n    insertingContent = Modifier.insertText(\n      insertingContent,\n      insertingContent.getSelectionAfter(),\n      ' '\n    );\n  }\n\n  const newEditorState = EditorState.push(\n    editorState,\n    insertingContent,\n    'insert-mention'\n  );\n\n  return EditorState.forceSelection(newEditorState, insertingContent.getSelectionAfter());\n};\n\n\nexport default addSuggestion;","export default {\n  language: 'zh',\n  controls: [\n    'undo', 'redo', 'separator',\n    'font-size', 'line-height', 'letter-spacing', 'separator',\n    'text-color', 'bold', 'italic', 'underline', 'strike-through', 'separator',\n    'superscript', 'subscript', 'remove-styles', 'emoji', 'separator',\n    'text-indent', 'text-align', 'separator',\n    'headings', 'list-ul', 'list-ol', 'blockquote', 'code', 'separator',\n    'media', 'link', 'table', 'split', 'hr', 'separator',\n    'clear', 'separator',\n    'fullscreen'\n  ],\n  excludeControls: [],\n  extendControls: [],\n  extendAtomics: [],\n  componentBelowControlBar: null,\n  media: {\n    pasteImage: true,\n    imagePasteLimit: 5,\n    image: true,\n    video: true,\n    audio: true,\n    uploadFn: null,\n    validateFn: null,\n    onBeforeDeselect: null,\n    onDeselect: null,\n    onBeforeSelect: null,\n    onSelect: null,\n    onBeforeRemove: null,\n    onRemove: null,\n    onCancel: null,\n    onFileSelect: null,\n    onBeforeInsert: null,\n    onInsert: null,\n    onChange: null,\n    accepts: {\n      image: 'image/png,image/jpeg,image/gif,image/webp,image/apng,image/svg',\n      video: 'video/mp4',\n      audio: 'audio/mp3'\n    },\n    externals: {\n      audio: true,\n      video: true,\n      image: true,\n      embed: true\n    },\n  },\n  imageControls: [\n    'float-left', 'float-right',\n    'align-left', 'align-center', 'align-right',\n    'link', 'size', 'remove'\n  ],\n  imageResizable: true,\n  colors: [\n    '#000000', '#333333', '#666666', '#999999', '#cccccc', '#ffffff',\n    '#61a951', '#16a085', '#07a9fe', '#003ba5', '#8e44ad', '#f32784',\n    '#c0392b', '#d35400', '#f39c12', '#fdda00'\n  ],\n  colorPicker: null,\n  colorPickerTheme: 'dark',\n  colorPickerAutoHide: true,\n  codeTabIndents: 2,\n  headings: ['header-one', 'header-two', 'header-three', 'header-four', 'header-five', 'header-six', 'unstyled'],\n  textAligns: ['left', 'center', 'right', 'justify'],\n  textBackgroundColor: true,\n  allowInsertLinkText: false,\n  defaultLinkTarget: '',\n  letterSpacings: [0, 1, 2, 3, 4, 5, 6],\n  lineHeights: [1, 1.2, 1.5, 1.75, 2, 2.5, 3, 4],\n  fontSizes: [\n    12, 14, 16, 18, 20, 24,\n    28, 30, 32, 36, 40, 48,\n    56, 64, 72, 96, 120, 144\n  ],\n  fontFamilies: [{\n    name: 'Araial',\n    family: 'Arial, Helvetica, sans-serif'\n  }, {\n    name: 'Georgia',\n    family: 'Georgia, serif'\n  }, {\n    name: 'Impact',\n    family: 'Impact, serif'\n  }, {\n    name: 'Monospace',\n    family: '\"Courier New\", Courier, monospace'\n  }, {\n    name: 'Tahoma',\n    family: 'tahoma, arial, \"Hiragino Sans GB\", , sans-serif'\n  }],\n  converts: {\n    unitExportFn: (value, type) => type === 'line-height' ? value : `${value}px`,\n  },\n  emojis: [\n    '', '', '', '', '', '', '',\n    '', '', '', '', '', '', '',\n    '', '', '', '', '', '', '',\n    '', '', '', '', '', '', '',\n    '', '', '', '', '', '', '',\n    '', '', '', '', '', '', '',\n    '', '', '', '', '', '', '',\n    '', '', '', '', '', '', '',\n    '', '', '', '', '', '', '',\n    '', '', '', '', '', '', '',\n    '', '', '', '', '', '', '',\n    '', '', '', '', '', '', '',\n    '', '', '', '', '', '', '',\n    '', '', '', '', '', '', '',\n    '', '', '', '', '', '', '',\n    '', '', '', '', '', '', '',\n    '', '', '', '', ''\n  ],\n  stripPastedStyles: false,\n  triggerChangeOnMount: true,\n  className: '',\n  style: {},\n  controlBarClassName: '',\n  controlBarStyle: {},\n  contentClassName: '',\n  contentStyle: {},\n  draftProps: {},\n  hooks: {},\n  mentions: [],\n  onChange: null,\n  onFocus: null,\n  onBlur: null,\n  onTab: null,\n  onDelete: null,\n  onMentionChange: null,\n  onSave: null,\n  fixPlaceholder: false\n}","import { ContentUtils, ColorUtils } from 'braft-utils'\nimport { RichUtils, Modifier, EditorState, ContentState } from 'draft-js'\nimport getFragmentFromSelection from 'draft-js/lib/getFragmentFromSelection'\nimport { handleNewLine } from 'draftjs-utils'\n\nexport const keyCommandHandlers = (command, editorState, editor) => {\n\n  if (editor.editorProps.handleKeyCommand && editor.editorProps.handleKeyCommand(command, editorState, editor) === 'handled') {\n    return 'handled'\n  }\n\n  if (command === 'braft-save') {\n    editor.editorProps.onSave && editor.editorProps.onSave(editorState)\n    return 'handled'\n  }\n\n  const { controls, excludeControls } = editor.editorProps\n  const allowIndent = (controls.indexOf('text-indent') !== 0 || controls.find(item => item.key === 'text-indent')) && excludeControls.indexOf('text-indent') === -1\n  const cursorStart = editorState.getSelection().getStartOffset()\n  const cursorEnd = editorState.getSelection().getEndOffset()\n  const cursorIsAtFirst = cursorStart === 0 && cursorEnd === 0\n\n  if (command === 'backspace') {\n\n    if (editor.editorProps.onDelete && editor.editorProps.onDelete(editorState) === false) {\n      return 'handled'\n    }\n\n    const blockType = ContentUtils.getSelectionBlockType(editorState)\n\n    if (allowIndent && cursorIsAtFirst && blockType !== 'code-block') {\n      editor.setValue(ContentUtils.decreaseSelectionIndent(editorState))\n    }\n\n  }\n\n  if (command === 'tab') {\n    const blockType = ContentUtils.getSelectionBlockType(editorState)\n\n    if (blockType === 'code-block') {\n      editor.setValue(ContentUtils.insertText(editorState, ' '.repeat(editor.editorProps.codeTabIndents)))\n      return 'handled'\n    } else if (blockType === 'ordered-list-item' || blockType === 'unordered-list-item') {\n      const newEditorState = RichUtils.onTab(\n        event,\n        editorState,\n        4,\n      )\n      if (newEditorState !== editorState) {\n        editor.setValue(newEditorState)\n      }\n      return 'handled'\n    } else if (blockType !== 'atomic' && allowIndent && cursorIsAtFirst) {\n      editor.setValue(ContentUtils.increaseSelectionIndent(editorState))\n      return 'handled'\n    }\n\n  }\n\n  const nextEditorState = ContentUtils.handleKeyCommand(editorState, command)\n\n  if (nextEditorState) {\n    editor.setValue(nextEditorState)\n    return 'handled'\n  }\n\n  return 'not-handled'\n\n}\n\n\n\n\nexport const returnHandlers = (event, editorState, editor) => {\n  if (editor.editorProps.handleReturn && editor.editorProps.handleReturn(event, editorState, editor) === 'handled') {\n    return 'handled'\n  }\n\n  let autocompleteState = editor.getAutocompleteState(editorState, false);\n  if (autocompleteState) {\n    editor.commitSelection(event);\n    return 'handle';\n  }\n\n  const currentBlock = ContentUtils.getSelectionBlock(editorState)\n  const currentBlockType = currentBlock.getType()\n\n  if (currentBlockType === 'unordered-list-item' || currentBlockType === 'ordered-list-item') {\n\n    if (currentBlock.getLength() === 0) {\n      editor.setValue(ContentUtils.toggleSelectionBlockType(editorState, 'unstyled'))\n      return 'handled'\n    }\n\n    return 'not-handled'\n\n  } else if (currentBlockType === 'code-block') {\n\n    if (\n      event.which === 13 && (\n        event.getModifierState('Shift') ||\n        event.getModifierState('Alt') ||\n        event.getModifierState('Control')\n      )) {\n      editor.setValue(ContentUtils.toggleSelectionBlockType(editorState, 'unstyled'))\n      return 'handled'\n    }\n\n    return 'not-handled'\n\n  } else if (currentBlockType === 'blockquote') {\n\n    if (event.which === 13) {\n\n      if (\n        event.getModifierState('Shift') ||\n        event.getModifierState('Alt') ||\n        event.getModifierState('Control')\n      ) {\n        event.which = 0\n      } else {\n        editor.setValue(RichUtils.insertSoftNewline(editorState))\n        return 'handled'\n      }\n\n    }\n\n  }\n\n  const nextEditorState = handleNewLine(editorState, event)\n\n  if (nextEditorState) {\n    editor.setValue(nextEditorState)\n    return 'handled'\n  }\n\n  return 'not-handled'\n\n}\n\nexport const beforeInputHandlers = (chars, editorState, editor) => {\n\n  if (editor.editorProps.handleBeforeInput && editor.editorProps.handleBeforeInput(chars, editorState, editor) === 'handled') {\n    return 'handled'\n  }\n\n  return 'not-handled'\n\n}\n\nexport const compositionStartHandler = (_, editor) => {\n\n  const { editorState } = editor.state\n  const selectedBlocks = ContentUtils.getSelectedBlocks(editorState)\n\n  if (selectedBlocks && selectedBlocks.length > 1) {\n\n    const nextEditorState = EditorState.push(\n      editorState,\n      Modifier.removeRange(editorState.getCurrentContent(), editorState.getSelection(), 'backward'),\n      'remove-range'\n    )\n\n    editor.setValue(nextEditorState)\n\n  }\n\n}\n\nexport const dropHandlers = (selectionState, dataTransfer, editor) => {\n\n  if (editor.editorProps.readOnly || editor.editorProps.disabled) {\n    return 'handled'\n  }\n\n  if (window && window.__BRAFT_DRAGING__IMAGE__) {\n\n    let nextEditorState = EditorState.forceSelection(editor.state.editorState, selectionState)\n    nextEditorState = ContentUtils.insertMedias(nextEditorState, [window.__BRAFT_DRAGING__IMAGE__.mediaData])\n    nextEditorState = ContentUtils.removeBlock(nextEditorState, window.__BRAFT_DRAGING__IMAGE__.block, nextEditorState.getSelection())\n\n    window.__BRAFT_DRAGING__IMAGE__ = null\n\n    editor.lockOrUnlockEditor(true)\n    editor.setValue(nextEditorState)\n\n    return 'handled'\n\n  } else if (!dataTransfer || !dataTransfer.getText()) {\n    return 'handled'\n  }\n\n  return 'not-handled'\n\n}\n\nexport const handleFiles = (files, editor) => {\n\n  const { pasteImage, validateFn, imagePasteLimit } = { ...editor.constructor.defaultProps.media, ...editor.editorProps.media }\n\n  pasteImage && files.slice(0, imagePasteLimit).forEach((file) => {\n\n    if (file && file.type.indexOf('image') > -1 && editor.braftFinder) {\n      let validateResult = validateFn ? validateFn(file) : true\n      if (validateResult instanceof Promise) {\n        validateResult.then(() => {\n          editor.braftFinder.uploadImage(file, image => {\n            editor.isLiving && editor.setValue(ContentUtils.insertMedias(editor.state.editorState, [image]))\n          })\n        })\n      } else if (validateResult) {\n        editor.braftFinder.uploadImage(file, image => {\n          editor.isLiving && editor.setValue(ContentUtils.insertMedias(editor.state.editorState, [image]))\n        })\n      }\n    }\n\n  })\n\n  if (files[0] && files[0].type.indexOf('image') > -1 && pasteImage) {\n    return 'handled'\n  }\n\n  return 'not-handled'\n\n}\n\nexport const droppedFilesHandlers = (selectionState, files, editor) => {\n\n  if (editor.editorProps.handleDroppedFiles && editor.editorProps.handleDroppedFiles(selectionState, files, editor) === 'handled') {\n    return 'handled'\n  }\n\n  return handleFiles(files, editor)\n\n}\n\nexport const pastedFilesHandlers = (files, editor) => {\n\n  if (editor.editorProps.handlePastedFiles && editor.editorProps.handlePastedFiles(files, editor) === 'handled') {\n    return 'handled'\n  }\n\n  return handleFiles(files, editor)\n\n}\n\nexport const copyHandlers = (event, editor) => {\n\n  const blockMap = getFragmentFromSelection(editor.state.editorState)\n\n  if (blockMap && blockMap.toArray) {\n\n    try {\n\n      const tempContentState = ContentState.createFromBlockArray(blockMap.toArray())\n      const tempEditorState = EditorState.createWithContent(tempContentState)\n      const clipboardData = (event.clipboardData || window.clipboardData || event.originalEvent.clipboardData)\n      tempEditorState.setConvertOptions(editor.state.editorState.convertOptions)\n\n      clipboardData.setData('text/html', tempEditorState.toHTML())\n      clipboardData.setData('text/plain', tempEditorState.toText())\n\n      event.preventDefault()\n\n    } catch (error) {\n      console.warn(error)\n    }\n\n  }\n\n}\n\nexport const pastedTextHandlers = (text, html, editorState, editor) => {\n\n  if (editor.editorProps.handlePastedText && editor.editorProps.handlePastedText(text, html, editorState, editor) === 'handled') {\n    return 'handled'\n  }\n\n  if (!html || editor.editorProps.stripPastedStyles) {\n    return false\n  }\n\n  const tempColors = ColorUtils.detectColorsFromHTMLString(html)\n\n  editor.setState({\n    tempColors: [...editor.state.tempColors, ...tempColors].filter(item => editor.editorProps.colors.indexOf(item) === -1).filter((item, index, array) => array.indexOf(item) === index)\n  }, () => {\n    editor.setValue(ContentUtils.insertHTML(editorState, html, 'paste'))\n  })\n\n  return 'handled'\n\n}","// TODO\n// - block-styleatomic\n\nimport React from 'react'\n\nconst extensionControls = []\nconst extensionDecorators = []\n\nconst propInterceptors = []\n\nconst extensionBlockRenderMaps = []\nconst extensionBlockRendererFns= []\n\nconst extensionInlineStyleMaps = []\nconst extensionInlineStyleFns = []\n\nconst extensionEntities = []\n\nconst inlineStyleImporters = []\nconst inlineStyleExporters = []\nconst blockImporters = []\nconst blockExporters = []\n\nconst filterByEditorId = (items, editorId) => {\n\n  if (!editorId) {\n    return items.filter(item => !item.includeEditors).map(item => item.data)\n  }\n\n  return items.map(item => {\n\n    if (!item.includeEditors && !item.excludeEditors) {\n      return item.data\n    }\n\n    if (item.includeEditors) {\n      return item.includeEditors.indexOf(editorId) !== -1 ? item.data : false\n    }\n\n    if (item.excludeEditors) {\n      return item.excludeEditors.indexOf(editorId) !== -1 ? false : item.data\n    }\n\n    return false\n\n  }).filter(item => item)\n\n}\n\nexport const getPropInterceptors = (editorId) => filterByEditorId(propInterceptors, editorId)\n\nexport const getExtensionControls = (editorId) => filterByEditorId(extensionControls, editorId)\n\nexport const getExtensionDecorators = (editorId) => filterByEditorId(extensionDecorators, editorId, 'decorators')\n\nexport const getExtensionBlockRenderMaps = (editorId) => filterByEditorId(extensionBlockRenderMaps, editorId)\n\nexport const getExtensionBlockRendererFns = (editorId) => filterByEditorId(extensionBlockRendererFns, editorId)\n\nexport const getExtensionInlineStyleMap = (editorId) => {\n\n  let inlineStyleMap = {}\n\n  filterByEditorId(extensionInlineStyleMaps, editorId).forEach(item => {\n    inlineStyleMap[item.inlineStyleName] = item.styleMap\n  })\n\n  return inlineStyleMap\n\n}\n\nexport const getExtensionInlineStyleFns = (editorId) => filterByEditorId(extensionInlineStyleFns, editorId)\n\nexport const compositeStyleImportFn = (styleImportFn, editorId) => (nodeName, node, style) => {\n\n  filterByEditorId(inlineStyleImporters, editorId).forEach(styleImporter => {\n    if (styleImporter.importer && styleImporter.importer(nodeName, node)) {\n      style = style.add(styleImporter.inlineStyleName)\n    }\n  })\n\n  return styleImportFn ? styleImportFn(nodeName, node, style) : style\n\n}\n\nexport const compositeStyleExportFn = (styleExportFn, editorId) => (style) => {\n\n  style = style.toUpperCase()\n  let result = styleExportFn ? styleExportFn(style) : undefined\n\n  if (result) {\n    return result\n  }\n\n  filterByEditorId(inlineStyleExporters, editorId).find((item) => {\n    if (item.inlineStyleName === style) {\n      result = item.exporter\n      return true\n    }\n  })\n\n  return result\n\n}\n\nexport const compositeEntityImportFn = (entityImportFn, editorId) => (nodeName, node, createEntity, source) => {\n\n  let result = entityImportFn ? entityImportFn(nodeName, node, createEntity, source) : null\n\n  if (result) {\n    return result\n  }\n\n  filterByEditorId(extensionEntities, editorId).find(entityItem => {\n    const matched = entityItem.importer ? entityItem.importer(nodeName, node, source) : null\n    matched && (result = createEntity(entityItem.entityType, matched.mutability || 'MUTABLE', matched.data || {}))\n    return !!matched\n  })\n\n  return result\n\n}\n\nexport const compositeEntityExportFn = (entityExportFn, editorId) => (entity, originalText) => {\n\n  let result = entityExportFn ? entityExportFn(entity, originalText) : undefined\n\n  if (result) {\n    return result\n  }\n\n  const entityType = entity.type.toUpperCase()\n\n  filterByEditorId(extensionEntities, editorId).find(entityItem => {\n    if (entityItem.entityType === entityType) {\n      result = entityItem.exporter ? entityItem.exporter(entity, originalText) : undefined\n      return true\n    }\n  })\n\n  return result\n\n}\n\nexport const compositeBlockImportFn = (blockImportFn, editorId) => (nodeName, node, source) => {\n\n  let result = blockImportFn ? blockImportFn(nodeName, node, source) : null\n\n  if (result) {\n    return result\n  }\n\n  filterByEditorId(blockImporters, editorId).find(blockImporter => {\n    const matched = blockImporter.importer ? blockImporter.importer(nodeName, node, source) : undefined\n    matched && (result = matched)\n    return !!matched\n  })\n\n  return result\n\n}\n\nexport const compositeBlockExportFn = (blockExportFn, editorId) => (contentState, block) => {\n\n  let result = blockExportFn ? blockExportFn(contentState, block) : null\n\n  if (result) {\n    return result\n  }\n\n  filterByEditorId(blockExporters, editorId).find(blockExporter => {\n    const matched = blockExporter.exporter ? blockExporter.exporter(contentState, block) : undefined\n    matched && (result = matched)\n    return !!matched\n  })\n\n  return result\n\n}\n\nconst useExtension = (extension) => {\n\n  if (extension instanceof Array) {\n    extension.forEach(useExtension)\n    return false\n  }\n\n  if(!extension || !extension.type || typeof extension.type !== 'string') {\n    return false\n  }\n\n  const { includeEditors, excludeEditors } = extension\n\n  if (extension.type === 'control') {\n\n    extensionControls.push({\n      includeEditors: includeEditors,\n      excludeEditors: excludeEditors,\n      data: extension.control\n    })\n\n  } else if (extension.type === 'inline-style') {\n\n    const inlineStyleName = extension.name.toUpperCase()\n\n    if (extension.control) {\n      extensionControls.push({\n        includeEditors: includeEditors,\n        excludeEditors: excludeEditors,\n        data: {\n          key: inlineStyleName,\n          type: 'inline-style',\n          command: inlineStyleName,\n          ...extension.control\n        }\n      })\n    }\n\n    if (extension.style) {\n      extensionInlineStyleMaps.push({\n        includeEditors: includeEditors,\n        excludeEditors: excludeEditors,\n        data: {\n          inlineStyleName: inlineStyleName,\n          styleMap: extension.style\n        }\n      })\n    }\n\n    if (extension.styleFn) {\n      extensionInlineStyleFns.push({\n        includeEditors: includeEditors,\n        excludeEditors: excludeEditors,\n        data: {\n          inlineStyleName: inlineStyleName,\n          styleFn: extension.styleFn\n        }\n      })\n    }\n\n    if (extension.importer) {\n      inlineStyleImporters.push({\n        includeEditors: includeEditors,\n        excludeEditors: excludeEditors,\n        data: {\n          inlineStyleName: inlineStyleName,\n          importer: extension.importer\n        }\n      })\n    }\n\n    inlineStyleExporters.push({\n      includeEditors: includeEditors,\n      excludeEditors: excludeEditors,\n      data: {\n        inlineStyleName: inlineStyleName,\n        exporter: extension.exporter ? extension.exporter(extension) : <span style={extension.style}/>\n      }\n    })\n\n  } else if (extension.type === 'block-style') {\n    // TODO\n  } else if (extension.type === 'entity') {\n\n    const entityType = extension.name.toUpperCase()\n\n    if (extension.control) {\n      extensionControls.push({\n        includeEditors: includeEditors,\n        excludeEditors: excludeEditors,\n        data: typeof extension.control === 'function' ? extension.control : {\n          key: entityType,\n          type: 'entity',\n          command: entityType,\n          data: {\n            mutability: extension.mutability || 'MUTABLE',\n            data: extension.data || {},\n          },\n          ...extension.control\n        }\n      })\n    }\n\n    extensionEntities.push({\n      includeEditors: includeEditors,\n      excludeEditors: excludeEditors,\n      data: {\n        entityType: entityType,\n        importer: extension.importer,\n        exporter: extension.exporter\n      }\n    })\n\n    extensionDecorators.push({\n      includeEditors: includeEditors,\n      excludeEditors: excludeEditors,\n      data: {\n        type: 'entity',\n        decorator: {\n          key: entityType,\n          component: extension.component\n        }\n      }\n    })\n\n  } else if (extension.type === 'block') {\n\n    const blockType = extension.name\n\n    if (extension.renderMap) {\n      extensionBlockRenderMaps.push({\n        includeEditors: includeEditors,\n        excludeEditors: excludeEditors,\n        data: {\n          blockType: blockType,\n          renderMap: extension.renderMap\n        }\n      })\n    }\n\n    if (extension.rendererFn) {\n      extensionBlockRendererFns.push({\n        includeEditors: includeEditors,\n        excludeEditors: excludeEditors,\n        data: {\n          blockType: blockType,\n          rendererFn: extension.rendererFn\n        }\n      })\n    }\n\n    if (extension.importer) {\n      blockImporters.push({\n        includeEditors: includeEditors,\n        excludeEditors: excludeEditors,\n        data: {\n          blockType: blockType,\n          importer: extension.importer\n        }\n      })\n    }\n\n    if (extension.exporter) {\n      blockExporters.push({\n        includeEditors: includeEditors,\n        excludeEditors: excludeEditors,\n        data: {\n          blockType: blockType,\n          exporter: extension.exporter\n        }\n      })\n    }\n\n  } else if (extension.type === 'atomic') {\n    // TODO\n  } else if (extension.type === 'decorator') {\n\n    const { decorator } = extension\n\n    if (decorator && decorator.strategy && decorator.component) {\n      extensionDecorators.push({\n        includeEditors: includeEditors,\n        excludeEditors: excludeEditors,\n        data: {\n          type: 'strategy',\n          decorator: decorator\n        }\n      })\n    } else if (decorator && decorator.getDecorations) {\n      extensionDecorators.push({\n        includeEditors: includeEditors,\n        excludeEditors: excludeEditors,\n        data: {\n          type: 'class',\n          decorator: decorator\n        }\n      })\n    }\n\n  } else if (extension.type === 'prop-interception') {\n\n    propInterceptors.push({\n      includeEditors: includeEditors,\n      excludeEditors: excludeEditors,\n      data: extension.interceptor\n    })\n\n  }\n\n}\n\nexport const createExtensibleEditor = (BraftEditor) => {\n\n  BraftEditor.use = useExtension\n\n  return BraftEditor\n\n}","import React from 'react'\nimport { Map } from 'immutable'\nimport { DefaultDraftBlockRenderMap } from 'draft-js'\nimport { getExtensionBlockRenderMaps } from 'helpers/extension'\n\nexport default (props, blockRenderMap) => {\n\n  let customBlockRenderMap = Map({\n    'atomic': {\n      element: ''\n    },\n    'code-block': {\n      element: 'code',\n      wrapper: <pre className=\"braft-code-block\"/>\n    }\n  })\n\n  try {\n\n    const extensionBlockRenderMaps = getExtensionBlockRenderMaps(props.editorId)\n\n    customBlockRenderMap = extensionBlockRenderMaps.reduce((customBlockRenderMap, item) => {\n      return customBlockRenderMap.merge(typeof item.renderMap === 'function' ? item.renderMap(props) : item.renderMap)\n    }, customBlockRenderMap)\n\n    if (blockRenderMap) {\n      if (typeof blockRenderMap === 'function') {\n        customBlockRenderMap = customBlockRenderMap.merge(blockRenderMap(props))\n      } else {\n        customBlockRenderMap = customBlockRenderMap.merge(blockRenderMap)\n      }\n    }\n\n    customBlockRenderMap = DefaultDraftBlockRenderMap.merge(customBlockRenderMap)\n\n  } catch (error) {\n    console.warn(error)\n  }\n\n  return customBlockRenderMap\n\n}","import './style.scss'\nimport React from 'react'\n\nexport default (props) => {\n\n  const { active, onClick, className } = props\n\n  return (\n    <div onClick={() => onClick()} className={'bf-switch ' + className + (active ? ' active' : '')}></div>\n  )\n\n}\n","import React from 'react'\n\nexport default (lang, editor) => [\n  {\n    key: 'undo',\n    title: lang.controls.undo,\n    text: <i className=\"bfi-undo\"></i>,\n    type: 'editor-method',\n    command: 'undo'\n  }, {\n    key: 'redo',\n    title: lang.controls.redo,\n    text: <i className=\"bfi-redo\"></i>,\n    type: 'editor-method',\n    command: 'redo'\n  }, {\n    key: 'remove-styles',\n    title: lang.controls.removeStyles,\n    text: <i className=\"bfi-format_clear\"></i>,\n    type: 'editor-method',\n    command: 'removeSelectionInlineStyles'\n  }, {\n    key: 'hr',\n    title: lang.controls.hr,\n    text: <i className=\"bfi-hr\"></i>,\n    type: 'editor-method',\n    command: 'insertHorizontalLine'\n  }, {\n    key: 'bold',\n    title: lang.controls.bold,\n    text: <i className=\"bfi-bold\"></i>,\n    type: 'inline-style',\n    command: 'bold'\n  }, {\n    key: 'italic',\n    title: lang.controls.italic,\n    text: <i className=\"bfi-italic\"></i>,\n    type: 'inline-style',\n    command: 'italic'\n  }, {\n    key: 'underline',\n    title: lang.controls.underline,\n    text: <i className=\"bfi-underlined\"></i>,\n    type: 'inline-style',\n    command: 'underline'\n  }, {\n    key: 'strike-through',\n    title: lang.controls.strikeThrough,\n    text: <i className=\"bfi-strikethrough\"></i>,\n    type: 'inline-style',\n    command: 'strikethrough',\n  }, {\n    key: 'superscript',\n    title: lang.controls.superScript,\n    text: <i className=\"bfi-superscript\"></i>,\n    type: 'inline-style',\n    command: 'superscript'\n  }, {\n    key: 'subscript',\n    title: lang.controls.subScript,\n    text: <i className=\"bfi-subscript\"></i>,\n    type: 'inline-style',\n    command: 'subscript'\n  }, {\n    key: 'headings',\n    title: lang.controls.headings,\n    type: 'headings',\n  }, {\n    key: 'blockquote',\n    title: lang.controls.blockQuote,\n    text: <i className=\"bfi-quote\"></i>,\n    type: 'block-type',\n    command: 'blockquote',\n  }, {\n    key: 'code',\n    title: lang.controls.code,\n    text: <i className=\"bfi-code\"></i>,\n    type: 'block-type',\n    command: 'code-block'\n  }, {\n    key: 'list-ul',\n    title: lang.controls.unorderedList,\n    text: <i className=\"bfi-list\"></i>,\n    type: 'block-type',\n    command: 'unordered-list-item'\n  }, {\n    key: 'list-ol',\n    title: lang.controls.orderedList,\n    text: <i className=\"bfi-list-numbered\"></i>,\n    type: 'block-type',\n    command: 'ordered-list-item'\n  }, {\n    key: 'link',\n    title: lang.controls.link,\n    type: 'link'\n  }, {\n    key: 'text-color',\n    title: lang.controls.color,\n    type: 'text-color'\n  }, {\n    key: 'line-height',\n    title: lang.controls.lineHeight, \n    type: 'line-height'\n  }, {\n    key: 'letter-spacing',\n    title: lang.controls.letterSpacing,\n    type: 'letter-spacing'\n  }, {\n    key: 'text-indent',\n    title: lang.controls.textIndent,\n    type: 'text-indent'\n  },{\n    key: 'font-size',\n    title: lang.controls.fontSize,\n    type: 'font-size'\n  }, {\n    key: 'font-family',\n    title: lang.controls.fontFamily,\n    type: 'font-family'\n  }, {\n    key: 'text-align',\n    title: lang.controls.textAlign,\n    type: 'text-align'\n  }, {\n    key: 'media',\n    title: lang.controls.media,\n    text: <i className=\"bfi-media\"></i>,\n    type: 'media'\n  }, {\n    key: 'emoji',\n    title: lang.controls.emoji,\n    text: <i className=\"bfi-emoji\"></i>,\n    type: 'emoji'\n  }, {\n    key: 'clear',\n    title: lang.controls.clear,\n    text: <i className=\"bfi-clear_all\"></i>,\n    type: 'editor-method',\n    command: 'clearEditorContent'\n  }, {\n    key: 'fullscreen',\n    title: editor.state.isFullscreen ? lang.controls.exitFullscreen : lang.controls.fullscreen,\n    text: <i className={editor.state.isFullscreen ? 'bfi-fullscreen-exit' : 'bfi-fullscreen'}></i>,\n    type: 'editor-method',\n    command: 'toggleFullscreen'\n  }, {\n    key: 'modal',\n    type: 'modal',\n  }, {\n    key: 'button',\n    type: 'button',\n  }, {\n    key: 'dropdown',\n    type: 'dropdown',\n  }, {\n    key: 'component',\n    type: 'component',\n  }\n]\n\nexport const imageControlItems = {\n  'float-left': {\n    text: <span data-float=\"left\">&#xe91e;</span>,\n    command: 'setImageFloat|left'\n  },\n  'float-right': {\n    text: <span data-float=\"right\">&#xe914;</span>,\n    command: 'setImageFloat|right'\n  },\n  'align-left': {\n    text: <span data-align=\"left\">&#xe027;</span>,\n    command: 'setImageAlignment|left'\n  },\n  'align-center': {\n    text: <span data-align=\"center\">&#xe028;</span>,\n    command: 'setImageAlignment|center'\n  },\n  'align-right': {\n    text: <span data-align=\"right\">&#xe029;</span>,\n    command: 'setImageAlignment|right'\n  },\n  'size': {\n    text: <span>&#xe3c2;</span>,\n    command: 'toggleSizeEditor'\n  },\n  'link': {\n    text: <span>&#xe91a;</span>,\n    command: 'toggleLinkEditor'\n  },\n  'remove': {\n    text: <span>&#xe9ac;</span>,\n    command: 'removeImage'\n  }\n}","import './style.scss'\nimport React from 'react'\nimport { ContentUtils } from 'braft-utils'\nimport Switch from 'components/common/Switch'\nimport { imageControlItems } from 'configs/controls'\n\nexport default class Image extends React.Component {\n\n  state = {\n    toolbarVisible: false,\n    toolbarOffset: 0,\n    linkEditorVisible: false,\n    sizeEditorVisible: false,\n    tempLink: null,\n    tempWidth: null,\n    tempHeight: null\n  }\n  initialLeft\n  initialTop\n  initialWidth\n  initialHeight\n  reSizeType\n\n  changeSize = e => {\n    let type = this.reSizeType\n    if(!this.initialLeft){\n      this.initialLeft = e.screenX\n      this.initialTop = e.screenY\n    }\n    if(type === 'rightbottom'){\n      this.initialHeight +=  e.screenY-this.initialTop\n      this.initialWidth +=  e.screenX-this.initialLeft\n    }\n    if(type === 'leftbottom'){\n      this.initialHeight +=  e.screenY-this.initialTop\n      this.initialWidth +=  -e.screenX+this.initialLeft\n    }\n    \n   \n    this.initialLeft = e.screenX\n    this.initialTop = e.screenY\n  }\n\n  moveImage = (e) => {\n    \n    this.changeSize(e)\n\n    this.setState({\n      tempWidth: Math.abs(this.initialWidth),\n      tempHeight: Math.abs(this.initialHeight)\n    })\n  }\n\n  upImage = () => {\n    this.confirmImageSize()\n    document.removeEventListener('mousemove',this.moveImage)\n    document.removeEventListener('mouseup',this.upImage)\n  }\n\n  repareChangeSize = type => (e) => {\n    this.reSizeType = type\n    const imageRect = this.imageElement.getBoundingClientRect()\n    this.initialLeft = this.initialTop = 0\n    this.initialWidth = imageRect.width\n    this.initialHeight = imageRect.height\n    e.preventDefault()\n    document.addEventListener('mousemove', this.moveImage)\n    document.addEventListener('mouseup', this.upImage)\n  }\n\n  render () {\n\n    const { mediaData, language, imageControls, imageResizable } = this.props\n    const { toolbarVisible, toolbarOffset, linkEditorVisible, sizeEditorVisible, tempWidth, tempHeight } = this.state\n    const blockData = this.props.block.getData()\n\n    let float = blockData.get('float')\n    let alignment = blockData.get('alignment')\n    let { url, link, link_target, width, height, meta } = mediaData\n    let imageStyles = {}\n    let clearFix = false\n\n    if (float) {\n      alignment = null\n    } else if (alignment === 'left') {\n      imageStyles.float = 'left'\n      clearFix = true\n    } else if (alignment === 'right') {\n      imageStyles.float = 'right'\n      clearFix = true\n    } else if (alignment === 'center') {\n      imageStyles.textAlign = 'center'\n    } else {\n      imageStyles.float = 'left'\n      clearFix = true\n    }\n\n    const renderedControlItems = imageControls.map((item, index) => {\n\n      if (typeof item === 'string' && imageControlItems[item]) {\n        return (\n          <a className={item === 'link' && link ? 'active' : ''} key={index} onClick={() => this.executeCommand(imageControlItems[item].command)}>\n            {imageControlItems[item].text}\n          </a>\n        )\n      } else if (item && (item.render || item.text)) {\n        return item.render ? item.render(mediaData, this.props.block) : <a key={index} onClick={() => item.onClick && this.executeCommand(item.onClick)}>{item.text}</a>\n      } else {\n        return null\n      }\n\n    })\n\n    return (\n      <div className='bf-media'>\n        <div\n          style={imageStyles}\n          draggable={true}\n          onMouseEnter={this.showToolbar}\n          onMouseMove={this.showToolbar}\n          onMouseLeave={this.hideToolbar}\n          onDragStart={this.handleDragStart}\n          onDragEnd={this.handleDragEnd}\n          ref={instance => this.mediaEmbederInstance = instance}\n          className='bf-image'\n        >\n          {toolbarVisible ? (\n            <div\n              style={{marginLeft: toolbarOffset}}\n              ref={instance => this.toolbarElement = instance}\n              data-float={float}\n              data-align={alignment}\n              className='bf-media-toolbar'\n            >\n              {linkEditorVisible ? (\n                <div className='bf-image-link-editor'>\n                  <div className='editor-input-group'>\n                    <input type='text' placeholder={language.linkEditor.inputWithEnterPlaceHolder} onKeyDown={this.handleLinkInputKeyDown} onChange={this.setImageLink} defaultValue={link}/>\n                    <button type='button' onClick={this.confirmImageLink}>{language.base.confirm}</button>\n                  </div>\n                  <div className='switch-group'>\n                    <Switch\n                      active={link_target === '_blank'}\n                      onClick={() => this.setImageLinkTarget(link_target)}\n                    />\n                    <label>{language.linkEditor.openInNewWindow}</label>\n                  </div>\n                </div>\n              ) : null}\n              {sizeEditorVisible ? (\n                <div className='bf-image-size-editor'>\n                  <div className='editor-input-group'>\n                    <input type='text' placeholder={language.base.width} onKeyDown={this.handleSizeInputKeyDown} onChange={this.setImageWidth} defaultValue={width}/>\n                    <input type='text' placeholder={language.base.height} onKeyDown={this.handleSizeInputKeyDown} onChange={this.setImageHeight} defaultValue={height}/>\n                    <button type='button' onClick={this.confirmImageSize}>{language.base.confirm}</button>\n                  </div>\n                </div>\n              ) : null}\n              {renderedControlItems}\n              <i style={{marginLeft: toolbarOffset * -1}} className='bf-media-toolbar-arrow'></i>\n            </div>\n          ) : null}\n          <div style={{position:'relative',width: `${width}px`,height: `${height}px`,display: 'inline-block'}}>\n            <img\n              ref={instance => this.imageElement = instance}\n              src={url}\n              width={width}\n              height={height}\n              {...meta}\n            />\n            {toolbarVisible && imageResizable ?\n              <div \n                className='bf-csize-icon right-bottom'\n                onMouseDown={this.repareChangeSize('rightbottom')}\n              /> : null}\n            {toolbarVisible &&  imageResizable ?\n              <div \n                className='bf-csize-icon left-bottom'\n                onMouseDown={this.repareChangeSize('leftbottom')}\n              /> : null}\n            <div \n              className={`bf-pre-csize ${this.reSizeType}`} \n              style={{width: `${tempWidth}px`, height:`${tempHeight}px`}}\n            />\n          </div>\n        </div>\n        {clearFix && <div className='clearfix' style={{clear:'both',height:0,lineHeight:0,float:'none'}}></div>}\n      </div>\n    )\n\n  }\n\n  lockEditor () {\n    this.props.editor.lockOrUnlockEditor(true)\n  }\n\n  unlockEditor () {\n    this.props.editor.lockOrUnlockEditor(false)\n  }\n\n  calcToolbarOffset () {\n\n    const { getContainerNode, containerNode } = this.props\n    const container = getContainerNode ? getContainerNode() : containerNode\n\n    if (!container) {\n      return 0\n    }\n\n    const viewRect = container.querySelector('.bf-content').getBoundingClientRect()\n    const toolbarRect = this.toolbarElement.getBoundingClientRect()\n    const imageRect = this.imageElement.getBoundingClientRect()\n\n    const right = viewRect.right - (imageRect.right - imageRect.width / 2 + toolbarRect.width / 2)\n    const left = (imageRect.left + imageRect.width / 2 - toolbarRect.width / 2) - viewRect.left\n\n    if (right < 10) {\n      return right - 10\n    } else if (left < 10) {\n      return left * -1 + 10\n    } else {\n      return 0\n    }\n\n  }\n\n  preventDragEvent = (event) => {\n    event.stopPropagation()\n    event.preventDefault()\n  }\n\n  handleDragStart = () => {\n\n    if (this.props.editor.editorProps.readOnly || this.props.editor.editorProps.disabled) {\n      return false\n    }\n\n    window.__BRAFT_DRAGING__IMAGE__ = {\n      block: this.props.block,\n      mediaData: {\n        type: 'IMAGE',\n        ...this.props.mediaData\n      }\n    }\n\n    this.setState({\n      toolbarVisible: false\n    }, () => {\n      this.unlockEditor()\n    })\n\n    return true\n\n  }\n\n  handleDragEnd = () => {\n\n    window.__BRAFT_DRAGING__IMAGE__ = null\n    return false\n\n  }\n\n  executeCommand = (command) => {\n\n    if (typeof command === 'string') {\n      const [method, param] = command.split('|')\n      this[method] && this[method](param)\n    } else if (typeof command === 'function') {\n      command(this.props.block, this.props.mediaData, this.props.editor.getValue())\n    }\n\n  }\n\n  removeImage = () => {\n    this.props.editor.setValue(ContentUtils.removeBlock(this.props.editor.getValue(), this.props.block))\n    this.unlockEditor()\n  }\n\n  toggleLinkEditor = () => {\n    this.setState({\n      linkEditorVisible: !this.state.linkEditorVisible,\n      sizeEditorVisible: false\n    })\n  }\n\n  toggleSizeEditor = () => {\n    this.setState({\n      linkEditorVisible: false,\n      sizeEditorVisible: !this.state.sizeEditorVisible\n    })\n  }\n\n  handleLinkInputKeyDown = (e) => {\n\n    if (e.keyCode === 13) {\n      this.confirmImageLink()\n    } else {\n      return\n    }\n  }\n\n  setImageLink = (e) => {\n    this.setState({ tempLink: e.currentTarget.value })\n    return\n  }\n\n  setImageLinkTarget (link_target) {\n\n    const hookReturns = this.props.hooks('set-image-link-target', link_target)(link_target)\n\n    if (hookReturns === false) {\n      return false\n    }\n\n    if (typeof hookReturns === 'string') {\n      link_target = hookReturns\n    }\n\n    link_target = link_target === '_blank' ? '' : '_blank'\n    this.props.editor.setValue(ContentUtils.setMediaData(this.props.editor.getValue(), this.props.entityKey, { link_target }))\n    window.setImmediate(this.props.editor.forceRender)\n  }\n\n  confirmImageLink = () => {\n\n    let { tempLink: link } = this.state\n    const hookReturns = this.props.hooks('set-image-link', link)(link)\n\n    if (hookReturns === false) {\n      return false\n    }\n\n    if (typeof hookReturns === 'string') {\n      link = hookReturns\n    }\n\n    if (link !== null) {\n      this.props.editor.setValue(ContentUtils.setMediaData(this.props.editor.getValue(), this.props.entityKey, { link }))\n      window.setImmediate(this.props.editor.forceRender)\n    }\n  }\n\n  handleSizeInputKeyDown = (e) => {\n    if (e.keyCode === 13) {\n      this.confirmImageSize()\n    } else {\n      return\n    }\n  }\n\n  setImageWidth = ({ currentTarget }) => {\n\n    let { value } = currentTarget\n\n    value && !isNaN(value) && (value = value + 'px')\n\n    this.setState({\n      tempWidth: value\n    })\n\n    return\n  }\n\n  setImageHeight = ({ currentTarget }) => {\n\n    let { value } = currentTarget\n\n    value && !isNaN(value) && (value = value + 'px')\n\n    this.setState({\n      tempHeight: value\n    })\n\n    return\n  }\n\n  confirmImageSize = () => {\n\n    const { tempWidth: width, tempHeight: height } = this.state\n    let newImageSize = {}\n\n    width !== null && (newImageSize.width = width)\n    height !== null && (newImageSize.height = height)\n\n    const hookReturns = this.props.hooks('set-image-size', newImageSize)(newImageSize)\n\n    if (hookReturns === false) {\n      return false\n    }\n\n    if (hookReturns && (hookReturns.width || hookReturns.height)) {\n      newImageSize = hookReturns\n    }\n\n    this.props.editor.setValue(ContentUtils.setMediaData(this.props.editor.getValue(), this.props.entityKey, newImageSize))\n    window.setImmediate(this.props.editor.forceRender)\n  }\n\n  setImageFloat = (float) => {\n\n    const hookReturns = this.props.hooks('set-image-float', float)(float)\n\n    if (hookReturns === false) {\n      return false\n    }\n\n    if (typeof hookReturns === 'string') {\n      float = hookReturns\n    }\n\n    this.props.editor.setValue(ContentUtils.setMediaPosition(this.props.editor.getValue(), this.props.block, { float }))\n    this.unlockEditor()\n  }\n\n  setImageAlignment = (alignment) => {\n\n    const hookReturns = this.props.hooks('set-image-alignment', alignment)(alignment)\n\n    if (hookReturns === false) {\n      return false\n    }\n\n    if (typeof hookReturns === 'string') {\n      alignment = hookReturns\n    }\n\n    this.props.editor.setValue(ContentUtils.setMediaPosition(this.props.editor.getValue(), this.props.block, { alignment }))\n    this.unlockEditor()\n  }\n\n  showToolbar = (event) => {\n\n    if (this.props.editor.editorProps.readOnly || this.props.editor.editorProps.disabled) {\n      return false\n    }\n\n    event.preventDefault()\n\n    if (!this.state.toolbarVisible) {\n      this.setState({\n        toolbarVisible: true\n      }, () => {\n        this.lockEditor()\n        this.setState({ toolbarOffset: this.calcToolbarOffset() })\n      })\n    }\n  }\n\n  hideToolbar = (event) => {\n\n    event.preventDefault()\n\n    this.setState({\n      toolbarVisible: false\n    }, () => {\n      this.unlockEditor()\n      // this.props.editor.requestFocus()\n    })\n  }\n\n}","import './style.scss'\nimport React from 'react'\nimport ReactDOM from 'react-dom'\nimport { BaseUtils } from 'braft-utils'\n\nexport default class Modal extends React.Component {\n\n  constructor (props) {\n\n    super(props)\n    this.active = false\n    this.componentId = 'BRAFT-MODAL-' + BaseUtils.UniqueIndex()\n\n  }\n\n  static defaultProps = {\n    showFooter: true,\n    closeOnBlur: true\n  }\n\n  componentDidMount () {\n\n    if (this.props.visible) {\n      this.active = true\n      this.renderComponent(this.props)\n    }\n\n  }\n\n  componentWillReceiveProps (next) {\n\n    if (this.props.visible && !next.visible) {\n      this.unrenderComponent()\n    } else if (this.props.visible || next.visible) {\n      this.active = true\n      this.renderComponent(next)\n    }\n\n  }\n\n  render () {\n    return null\n  }\n\n  handleTransitionEnd = () => {\n\n    if (!this.rootElement || !this.rootElement.classList) {\n      return false\n    }\n\n    if (!this.rootElement.classList.contains('active')) {\n      ReactDOM.unmountComponentAtNode(this.rootElement) && this.rootElement.parentNode.removeChild(this.rootElement)\n    }\n\n  }\n\n  unrenderComponent () {\n    this.active = false\n    this.activeId && window.clearImmediate(this.activeId)\n    if (this.rootElement && this.rootElement.classList) {\n      this.rootElement.classList.remove('active')\n    }\n  }\n\n  renderComponent (props) {\n\n    if (!this.active) {\n      return false\n    }\n\n    let { title, className, width, height, children, component, confirmable, showFooter, showCancel, showConfirm, showClose, cancelText, confirmText, bottomText, language } = props\n\n    typeof showCancel === 'undefined' && (showCancel = true)\n    typeof showClose === 'undefined' && (showClose = true)\n    typeof showConfirm === 'undefined' && (showConfirm = true)\n    typeof showFooter === 'undefined' && (showFooter = true)\n\n    const childComponent = (\n      <div onMouseDown={this.handleMouseDown} className={'bf-modal ' + (className || '')}>\n        <div className='bf-modal-mask' onClick={this.handleMaskClick}></div>\n        <div onTransitionEnd={this.handleTransitionEnd} style={{width, height}} className='bf-modal-content'>\n          <div className='bf-modal-header'>\n            <h3 className='bf-modal-caption'>{title}</h3>\n            {showClose && <button type='button' onClick={this.close} className='bf-modal-close-button'><i className='bfi-close'></i></button>}\n          </div>\n          <div className='bf-modal-body'>{children || component}</div>\n          {showFooter ? (\n            <div className='bf-modal-footer'>\n              <div className='bf-modal-addon-text'>{bottomText}</div>\n              <div className='bf-modal-buttons'>\n                {showCancel && <button type='button' onClick={this.handleCancel} className='bf-modal-cancel'>{cancelText || language.base.cancel}</button>}\n                {showConfirm && <button type='button' onClick={this.handleConfirm} className={'bf-modal-confirm ' + (!confirmable ? 'disabled' : '')}>{confirmText || language.base.confirm}</button>}\n              </div>\n            </div>\n          ) : null}\n        </div>\n      </div>\n    )\n\n    this.rootElement = document.querySelector('#' + this.componentId)\n\n    if (!this.rootElement) {\n      this.rootElement = document.createElement('div')\n      this.rootElement.id = this.componentId\n      this.rootElement.className = 'bf-modal-root'\n      document.body.appendChild(this.rootElement)\n    }\n\n    ReactDOM.render(childComponent, this.rootElement)\n\n    this.activeId = window.setImmediate(() => {\n      this.rootElement.classList.add('active')\n    })\n\n  }\n\n  handleMouseDown = (event) => {\n\n    const tagName = event.target.tagName.toLowerCase()\n\n    if (tagName === 'input' || tagName === 'textarea') {\n      return false\n    }\n\n    event.preventDefault()\n\n  }\n\n  handleCancel = () => {\n    this.props.closeOnCancel && this.close()\n    this.props.onCancel && this.props.onCancel()\n  }\n\n  handleConfirm = () => {\n    this.props.closeOnConfirm && this.close()\n    this.props.onConfirm && this.props.onConfirm()\n  }\n\n  handleMaskClick = () => {\n    this.props.closeOnBlur && this.close()\n    this.props.onBlue && this.props.onBlue()\n  }\n\n  close = () => {\n    this.unrenderComponent()\n    this.props.onClose && this.props.onClose()\n  }\n\n}\n\nexport const showModal = (props) => {\n\n  const hostNode = document.createElement('div')\n\n  hostNode.style.display = 'none'\n  document.body.appendChild(hostNode)\n\n  props = {\n    visible: true,\n    closeOnConfirm: true,\n    closeOnCancel: true,\n    ...props\n  }\n\n  const close = () => {\n    ReactDOM.unmountComponentAtNode(hostNode) && hostNode.parentNode.removeChild(hostNode)\n  }\n\n  const onConfirm = () => {\n    props.onConfirm && props.onConfirm()\n  }\n\n  const onCancel = () => {\n    props.onCancel && props.onCancel()\n  }\n\n  const onClose = () => {\n    close()\n    props.onClose && props.onClose()\n  }\n\n  const modalInstance = ReactDOM.render(<Modal { ...props } onConfirm={onConfirm} onCancel={onCancel} onClose={onClose} />, hostNode)\n  modalInstance.destroy = close\n  modalInstance.update = modalInstance.renderComponent\n\n  return modalInstance\n\n}","import React from 'react'\nimport { showModal } from 'components/common/Modal'\nimport './style.scss'\n\nconst playViaModal = (title, component, language) => showModal({\n  title: title,\n  component: component,\n  language: language,\n  showFooter: false\n})\n\nconst typeIconsMap = {\n  'video': 'bfi-film',\n  'audio': 'bfi-music',\n  'embed': 'bfi-code'\n}\n\nexport default ({title, type, language, name, url, poster, children, onRemove}) => {\n\n  return (\n    <div className={`bf-player-holder ${type}`}>\n      <div className=\"icon-badge\">\n        <i className={typeIconsMap[type]}></i>\n        <span className=\"text\">{language.media[type]}</span>\n      </div>\n      <button onMouseDown={onRemove} className=\"button-remove\">\n        <i className=\"bfi-close\"></i>\n      </button>\n      <button onMouseDown={() => playViaModal(name ? `${title}:${name}` : title, children, language)} className=\"button-play\">\n        <i className=\"bfi-play_arrow\"></i>\n      </button>\n      {name ? <h5 className=\"bf-name\">{name}</h5> : null}\n      <h6 className=\"bf-url\">{url}</h6>\n      {poster ? <div className=\"bf-poster\" style={{backgroundImage: `url(${poster})`}}></div> : null}\n    </div>\n  )\n\n}","import './style.scss'\nimport React from 'react'\nimport PlayerModal from 'components/business/PlayerModal'\nimport { ContentUtils } from 'braft-utils'\n\nexport default class Video extends React.Component {\n\n  render () {\n\n    const { mediaData, language } = this.props\n    const { url, name, meta } = mediaData\n\n    return (\n      <div className='bf-video-wrap'>\n        <PlayerModal type=\"video\" onRemove={this.removeVideo} poster={meta ? meta.poster || '' : ''} language={language} url={url} name={name} title={language.videoPlayer.title}>\n          <div className=\"bf-video-player\">\n            <video controls poster={meta ? meta.poster || '' : ''}>\n              <source src={url} />\n            </video>\n          </div>\n        </PlayerModal>\n      </div>\n    )\n\n  }\n\n  removeVideo = () => {\n    this.props.editor.setValue(ContentUtils.removeBlock(this.props.editorState, this.props.block))\n  }\n\n}","import './style.scss'\nimport React from 'react'\nimport PlayerModal from 'components/business/PlayerModal'\nimport { ContentUtils } from 'braft-utils'\n\nexport default class Audio extends React.Component {\n\n  render () {\n\n    const { mediaData, language } = this.props\n    const { url, name, meta } = mediaData\n\n    return (\n      <div className='bf-audio-wrap'>\n        <PlayerModal type=\"audio\" onRemove={this.removeAudio} poster={meta ? meta.poster || '' : ''} language={language} url={url} name={name} title={language.audioPlayer.title}>\n          <div className=\"bf-audio-player\"><audio controls src={url}/></div>\n        </PlayerModal>\n      </div>\n    )\n\n  }\n\n  removeAudio = () => {\n    this.props.editor.setValue(ContentUtils.removeBlock(this.props.editorState, this.props.block))\n  }\n\n}","import './style.scss'\nimport React from 'react'\nimport PlayerModal from 'components/business/PlayerModal'\nimport { ContentUtils } from 'braft-utils'\n\nexport default class Embed extends React.Component {\n\n  render () {\n\n    const { mediaData, language } = this.props\n    const { name, url, meta } = mediaData\n\n    return (\n      <div className='bf-embed-wrap'>\n        <PlayerModal type=\"embed\" onRemove={this.removeEmbed} poster={meta ? meta.poster || '' : ''} language={language} url={url} name={name} title={language.videoPlayer.embedTitle}>\n          <div className='bf-embed-player' dangerouslySetInnerHTML={{ __html: url}}></div>\n        </PlayerModal>\n      </div>\n    )\n\n  }\n\n  removeEmbed = () => {\n    this.props.editor.setValue(ContentUtils.removeBlock(this.props.editorState, this.props.block))\n  }\n\n}","import React from 'react'\nimport { ContentUtils } from 'braft-utils'\nimport './style.scss'\n\nexport default class HorizontalLine extends React.Component {\n\n  render () {\n\n    return (\n      <div className='bf-hr'>\n        <div className='bf-media-toolbar'>\n          <a onClick={this.removeHorizontalLine}>&#xe9ac;</a>\n        </div>\n      </div>\n    )\n\n  }\n\n  removeHorizontalLine = () => {\n    this.props.editor.setValue(ContentUtils.removeBlock(this.props.editorState, this.props.block))\n  }\n\n}","import React from 'react'\nimport Image from 'renderers/atomics/Image'\nimport Video from 'renderers/atomics/Video'\nimport Audio from 'renderers/atomics/Audio'\nimport Embed from 'renderers/atomics/Embed'\nimport HorizontalLine from 'renderers/atomics/HorizontalLine'\nimport { getExtensionBlockRendererFns } from 'helpers/extension'\n\nclass BlockRenderFnContext {\n  superProps\n  customBlockRendererFn\n\n  getRenderFn = (superProps, customBlockRendererFn) => {\n    this.superProps = superProps\n    this.customBlockRendererFn = customBlockRendererFn\n\n    return this.blockRendererFn\n  }\n\n  renderAtomicBlock = (props) => {\n    const { superProps } = this\n\n    const entityKey = props.block.getEntityAt(0)\n\n    if (!entityKey) {\n      return null\n    }\n\n    const entity = props.contentState.getEntity(entityKey)\n    const mediaData = entity.getData()\n    const mediaType = entity.getType()\n    const mediaProps = {\n      ...superProps,\n      block: props.block,\n      mediaData, entityKey\n    }\n\n    if (mediaType === 'IMAGE') {\n      return <Image { ...mediaProps } />\n    } else if (mediaType === 'AUDIO') {\n      return <Audio { ...mediaProps } />\n    } else if (mediaType === 'VIDEO') {\n      return <Video { ...mediaProps } />\n    } else if (mediaType === 'EMBED') {\n      return <Embed { ...mediaProps } />\n    } else if (mediaType === 'HR') {\n      return <HorizontalLine { ...mediaProps } />\n    }\n\n    if (superProps.extendAtomics) {\n      const atomics = superProps.extendAtomics\n      for (let i = 0; i < atomics.length; i++) {\n        if (mediaType === atomics[i].type) {\n          const Component = atomics[i].component\n          return <Component {...mediaProps} />\n        }\n      }\n    }\n\n    return null\n  }\n\n  blockRendererFn = (block) => {\n    const { customBlockRendererFn, superProps } = this\n\n    const blockType = block.getType()\n    let blockRenderer = null\n\n    if (customBlockRendererFn) {\n      blockRenderer = customBlockRendererFn(block, superProps) || null\n    }\n\n    if (blockRenderer) {\n      return blockRenderer\n    }\n\n    const extensionBlockRendererFns = getExtensionBlockRendererFns(superProps.editorId)\n\n    extensionBlockRendererFns.find(item => {\n      if (item.blockType === blockType || (item.blockType instanceof RegExp && item.blockType.test(blockType))) {\n        blockRenderer = item.rendererFn ? item.rendererFn(superProps) : null\n        return true\n      }\n    })\n\n    if (blockRenderer) {\n      return blockRenderer\n    }\n\n    if (blockType === 'atomic') {\n      blockRenderer = {\n        component: this.renderAtomicBlock,\n        editable: false\n      }\n    }\n\n    return blockRenderer\n  }\n}\n\nconst blockRenderFnContext = new BlockRenderFnContext()\nexport default blockRenderFnContext.getRenderFn\n","export default (customBlockStyleFn) => (block) => {\n\n  const blockAlignment = block.getData() && block.getData().get('textAlign')\n  const blockIndent = block.getData() && block.getData().get('textIndent')\n  const blockFloat = block.getData() && block.getData().get('float')\n\n  let result = ''\n\n  if (blockAlignment) {\n    result = `bfa-${blockAlignment}`\n  }\n\n  if (blockIndent && blockIndent !== 0) {\n    result += ` bftd-${blockIndent}`\n  }\n\n  if (blockFloat) {\n    result += ` bff-${blockFloat}`\n  }\n\n  if (customBlockStyleFn) {\n    result += (customBlockStyleFn(block) || '')\n  }\n\n  return result\n\n}","import { getExtensionInlineStyleMap } from 'helpers/extension'\n\nexport default (props, customStyleMap = {}) => {\n\n  const extensionInlineStyleMap = getExtensionInlineStyleMap(props.editorId)\n\n  return {\n    'SUPERSCRIPT': {\n      position: 'relative',\n      top: '-8px',\n      fontSize: '11px'\n    },\n    'SUBSCRIPT': {\n      position: 'relative',\n      bottom: '-8px',\n      fontSize: '11px'\n    },\n    ...extensionInlineStyleMap,\n    ...customStyleMap\n  }\n\n}","import { getExtensionInlineStyleFns } from 'helpers/extension'\n\nconst getStyleValue = (style) => style.split('-')[1]\n\nexport default (props, options) => (styles, block) => {\n\n  let output = {}\n  const { fontFamilies, unitExportFn, customStyleFn } = options\n\n  const extensionInlineStyleFns = getExtensionInlineStyleFns(props.editorId)\n\n  extensionInlineStyleFns.forEach(item => {\n    output = item.styleFn ? item.styleFn(styles, block, output) : output\n  })\n\n  output = customStyleFn ? customStyleFn(styles, block, output) : {}\n\n  styles.forEach((style) => {\n\n    if (style.indexOf('COLOR-') === 0) {\n      output.color = '#' + getStyleValue(style)\n    } else if (style.indexOf('BGCOLOR-') === 0) {\n      output.backgroundColor = '#' + getStyleValue(style)\n    } else if (style.indexOf('FONTSIZE-') === 0) {\n      output.fontSize = unitExportFn(getStyleValue(style), 'font-size', 'editor')\n    } else if (style.indexOf('LINEHEIGHT-') === 0) {\n      output.lineHeight = unitExportFn(getStyleValue(style), 'line-height', 'editor')\n    } else if (style.indexOf('LETTERSPACING-') === 0) {\n      output.letterSpacing = unitExportFn(getStyleValue(style), 'letter-spacing', 'editor')\n    } else if (style.indexOf('TEXTINDENT-') === 0) {\n      output.textIndent = unitExportFn(getStyleValue(style), 'text-indent', 'editor')\n    } else if (style.indexOf('FONTFAMILY-') === 0) {\n      output.fontFamily = (fontFamilies.find(item => item.name.toUpperCase() === getStyleValue(style)) || {}).family || ''\n    }\n\n  })\n\n  return output\n\n}","import React from 'react'\n\nexport default (props) => {\n\n  const { children, entityKey, contentState } = props\n  const { href, target } = contentState.getEntity(entityKey).getData()\n\n  return (\n    <span className='bf-link-wrap'>\n      <a onClick={(event) => viewLink(event, href)} className='bf-link' href={href} target={target}>{children}</a>\n    </span>\n  )\n\n}\n\nconst viewLink = (event, link) => {\n  // Ctrl/commandurl\n  if (event.getModifierState('Control') \n      || event.getModifierState('Meta')) {\n    const tempLink = document.createElement('a')\n    tempLink.href = link\n    tempLink.target = event.currentTarget.target\n    tempLink.click()\n  }\n}","import { CompositeDecorator } from 'draft-js'\nimport CombineDecorators from 'draft-js-multidecorators'\nimport Immutable from 'immutable'\nimport { getExtensionDecorators } from 'helpers/extension'\nimport Link from './Link'\n\nconst KEY_SEPARATOR = '-'\n\nCombineDecorators.prototype.getDecorations = function (block, contentState) {\n\n  const decorations = Array(block.getText().length).fill(null)\n\n  this.decorators.forEach((decorator, i) => {\n\n    decorator.getDecorations(block, contentState).forEach((key, offset) => {\n      if (!key) {\n        return\n      }\n      key = i + KEY_SEPARATOR + key\n      decorations[offset] = key\n    })\n\n  })\n\n  return Immutable.List(decorations)\n\n}\n\nconst builtinDecorators = [\n  {\n    type: 'entity',\n    decorator: {\n      key: 'LINK',\n      component: Link\n    }\n  }\n]\n\nconst createStrategy = (type) => (block, callback, contentState) => {\n\n  block.findEntityRanges((character) => {\n    const entityKey = character.getEntity()\n    return (\n      entityKey !== null &&\n      contentState.getEntity(entityKey).getType() === type\n    )\n  }, callback)\n\n}\n\nexport default (editorId) => {\n\n  const extensionDecorators = getExtensionDecorators(editorId)\n\n  const entityDecorators = [\n    ...builtinDecorators,\n    ...extensionDecorators.filter(item => item.type === 'entity')\n  ]\n\n  const strategyDecorators = extensionDecorators.filter(item => item.type === 'strategy')\n  const classDecorators = extensionDecorators.filter(item => item.type === 'class')\n\n  return new CombineDecorators([\n    // combine decorator classes\n    ...classDecorators.map(item => item.decorator),\n    // combine decorators created with strategy\n    new CompositeDecorator(strategyDecorators.map(item => item.decorator)),\n    // combine decorators for entities\n    new CompositeDecorator(entityDecorators.map(item => ({\n      strategy: createStrategy(item.decorator.key),\n      component: item.decorator.component\n    })))\n  ])\n\n}","import _getBlockRenderMap from './block/blockRenderMap'\nimport _getBlockRendererFn from './block/blockRendererFn'\nimport _getBlockStyleFn from './block/blockStyleFn'\nimport _getCustomStyleMap from './inline/inlineStyleMap'\nimport _getCustomStyleFn from './inline/inlineStyleFn'\nimport _getDecorators from './decorators'\n\nexport const getBlockRenderMap = _getBlockRenderMap\nexport const getBlockRendererFn = _getBlockRendererFn\nexport const getBlockStyleFn = _getBlockStyleFn\nexport const getCustomStyleMap = _getCustomStyleMap\nexport const getCustomStyleFn = _getCustomStyleFn\nexport const getDecorators = _getDecorators","import { BaseUtils } from 'braft-utils'\n\nlet resizeEventHandlers = []\nlet responsiveHelperInited = false\nlet debouce = false\n\nexport default {\n\n  resolve (eventHandler) {\n    let id = BaseUtils.UniqueIndex()\n    resizeEventHandlers.push({ id, eventHandler })\n    return id\n  },\n\n  unresolve (id) {\n    resizeEventHandlers = resizeEventHandlers.filter(item => item.id !== id)\n  }\n\n}\n\nif (!responsiveHelperInited && typeof window === 'object') {\n\n  window.addEventListener('resize', (event) => {\n    clearTimeout(debouce)\n    debouce = setTimeout(() => {\n      resizeEventHandlers.map((item) => {\n        typeof item.eventHandler === 'function' && item.eventHandler(event)\n      })\n      debouce = false\n    }, 100)\n  })\n\n  responsiveHelperInited = true\n\n}","import './style.scss'\nimport React from 'react'\nimport ResponsiveHelper from 'helpers/responsive'\n\nexport default class DropDown extends React.Component {\n\n  responsiveResolveId = null\n  dropDownHandlerElement = null\n  dropDownContentElement = null\n  state = {\n    active: false,\n    offset: 0\n  }\n\n  componentDidMount () {\n\n    if (document) {\n      document.body.addEventListener('click', this.registerClickEvent)\n      this.responsiveResolveId = ResponsiveHelper.resolve(this.fixDropDownPosition)\n    }\n\n  }\n\n  componentWillReceiveProps (next) {\n\n    if (!this.props.disabled && next.disabled) {\n      this.hide()\n    }\n\n  }\n\n  componentDidUpdate (prevState) {\n\n    if (!prevState.active && this.state.active) {\n      this.fixDropDownPosition()\n    }\n\n  }\n\n  componentWillUnmount () {\n\n    if (document) {\n      document.body.removeEventListener('click', this.registerClickEvent)\n      ResponsiveHelper.unresolve(this.responsiveResolveId)\n    }\n\n  }\n\n  render () {\n\n    let { active, offset } = this.state\n    let { caption, htmlCaption, title, disabled, showArrow, arrowActive, className, children, theme } = this.props\n\n    disabled && (active = false)\n    theme === 'light' && (className = ' light-theme ' + className)\n\n    return (\n      <div className={'bf-dropdown ' + (active ? 'active ' : '') + (disabled ? 'disabled ' : '') + className}>\n        {htmlCaption ? (\n          <button\n            type='button'\n            className='dropdown-handler'\n            data-title={title}\n            onClick={this.toggle}\n            dangerouslySetInnerHTML={htmlCaption ? {__html: htmlCaption} : null}\n            ref={(instance) => this.dropDownHandlerElement = instance}\n          ></button>\n        ) : (\n          <button\n            type='button'\n            className='dropdown-handler'\n            data-title={title}\n            onClick={this.toggle}\n            ref={(instance) => this.dropDownHandlerElement = instance}\n          >\n            <span>{caption}</span>\n            {showArrow !== false ? <i className='bfi-drop-down'></i> : null}\n          </button>\n        )}\n        <div\n          className='dropdown-content'\n          style={{marginLeft: offset }}\n          ref={(instance) => this.dropDownContentElement = instance}\n        >\n          <i\n            style={{marginLeft: offset * -1}}\n            className={'dropdown-arrow' + (arrowActive ? ' active' : '')}\n          ></i>\n          <div className='dropdown-content-inner'>\n            {children}\n          </div>\n        </div>\n      </div>\n    )\n\n  }\n\n  fixDropDownPosition = () => {\n\n    const viewRect = this.props.getContainerNode().getBoundingClientRect()\n    const handlerRect = this.dropDownHandlerElement.getBoundingClientRect()\n    const contentRect = this.dropDownContentElement.getBoundingClientRect()\n\n    let offset = 0\n    let right = handlerRect.right - handlerRect.width / 2 + contentRect.width / 2\n    let left = handlerRect.left + handlerRect.width / 2 - contentRect.width / 2\n\n    right = viewRect.right - right\n    left = left - viewRect.left\n\n    if (right < 10) {\n      offset = right - 10\n    } else if (left < 10) {\n      offset = left * -1 + 10\n    }\n\n    if (offset !== this.state.offset) {\n      this.setState({ offset })\n    }\n\n  }\n\n  registerClickEvent = (event) => {\n\n    const { autoHide } = this.props\n    const { active } = this.state\n\n    if (this.dropDownContentElement.contains(event.target) || this.dropDownHandlerElement.contains(event.target)) {\n      return false\n    }\n\n    autoHide && active && this.hide()\n\n  }\n\n  toggle = () => {\n    this.setState({ active: !this.state.active })\n  }\n\n  show = () => {\n    this.setState({ active: true })\n  }\n\n  hide = () => {\n    this.setState({ active: false })\n  }\n\n}","import React from 'react'\n\nexport default (props) => {\n\n  if (React.Fragment) {\n    return <React.Fragment>{props.children}</React.Fragment>\n  } else {\n    return <div className=\"control-item-group\">{props.children}</div>\n  }\n\n}","import './style.scss'\nimport React from 'react'\nimport Switch from 'components/common/Switch'\nimport DropDown from 'components/common/DropDown'\nimport ControlGroup from 'components/business/ControlGroup'\nimport { ContentUtils } from 'braft-utils'\n\nexport default class LinkEditor extends React.Component {\n\n  constructor (props) {\n\n    super(props)\n\n    this.state = {\n      text: '',\n      href: '',\n      target: props.defaultLinkTarget || '',\n      textSelected: false\n    }\n\n  }\n\n  dropDownInstance = null\n\n  componentWillReceiveProps (nextProps) {\n\n    const { href, target } = ContentUtils.getSelectionEntityData(nextProps.editorState, 'LINK')\n    const textSelected = !ContentUtils.isSelectionCollapsed(this.props.editorState) && ContentUtils.getSelectionBlockType(this.props.editorState) !== 'atomic'\n\n    let selectedText = ''\n\n    if (textSelected) {\n      selectedText = ContentUtils.getSelectionText(this.props.editorState)\n    }\n\n    this.setState({\n      textSelected: textSelected,\n      text: selectedText,\n      href: href || '',\n      target: typeof target === 'undefined' ? (nextProps.defaultLinkTarget || '') : (target || '')\n    })\n\n  }\n\n  render () {\n\n    const { allowInsertLinkText } = this.props\n    const { text, href, target, textSelected } = this.state\n    const caption = <i className='bfi-link'></i>\n\n    return (\n      <ControlGroup>\n        <DropDown\n          key={0}\n          caption={caption}\n          title={this.props.language.controls.link}\n          autoHide={true}\n          getContainerNode={this.props.getContainerNode}\n          showArrow={false}\n          ref={(instance) => this.dropDownInstance = instance}\n          className={'control-item dropdown link-editor-dropdown'}\n        >\n          <div className='bf-link-editor'>\n            {allowInsertLinkText ? <div className='input-group'>\n              <input\n                type='text'\n                value={text}\n                spellCheck={false}\n                disabled={textSelected}\n                placeholder={this.props.language.linkEditor.textInputPlaceHolder}\n                onKeyDown={this.handeKeyDown}\n                onChange={this.handleTnputText}\n              />\n            </div> : null}\n            <div className='input-group'>\n              <input\n                type='text'\n                value={href}\n                spellCheck={false}\n                placeholder={this.props.language.linkEditor.linkInputPlaceHolder}\n                onKeyDown={this.handeKeyDown}\n                onChange={this.handleInputLink}\n              />\n            </div>\n            <div className='switch-group'>\n              <Switch\n                active={target === '_blank'}\n                onClick={this.setTarget}\n              />\n              <label>{this.props.language.linkEditor.openInNewWindow}</label>\n            </div>\n            <div className='buttons'>\n              <a onClick={this.handleUnlink} className='primary button-remove-link pull-left'>\n                <i className='bfi-close'></i>\n                <span>{this.props.language.linkEditor.removeLink}</span>\n              </a>\n              <button type='button' onClick={this.handleConfirm} className='primary pull-right'>{this.props.language.base.confirm}</button>\n              <button type='button' onClick={this.handleCancel} className='default pull-right'>{this.props.language.base.cancel}</button>\n            </div>\n          </div>\n        </DropDown>\n        <button\n          key={1}\n          type='button'\n          data-title={this.props.language.controls.unlink}\n          className='control-item button'\n          onClick={this.handleUnlink}\n          disabled={!textSelected || !href}\n        >\n          <i className='bfi-link-off'></i>\n        </button>\n      </ControlGroup>\n    )\n\n  }\n\n  handeKeyDown = (e) => {\n    if (e.keyCode === 13) {\n      this.handleConfirm()\n      e.preventDefault()\n      return false\n    }\n  }\n\n  handleTnputText = (e) => {\n    this.setState({\n      text: e.currentTarget.value\n    })\n  }\n\n  handleInputLink = (e) => {\n    this.setState({\n      href: e.currentTarget.value\n    })\n  }\n\n  setTarget = () => {\n    this.setState({\n      target: this.state.target === '_blank' ? '' : '_blank'\n    })\n  }\n\n  handleCancel = () => {\n    this.dropDownInstance.hide()\n  }\n\n  handleUnlink = () => {\n    this.dropDownInstance.hide()\n    this.props.editor.setValue(ContentUtils.toggleSelectionLink(this.props.editorState, false))\n  }\n\n  handleConfirm = () => {\n\n    let { text, href, target, textSelected } = this.state\n    const hookReturns = this.props.hooks('toggle-link', { href, target })({ href, target })\n\n    this.dropDownInstance.hide()\n    this.props.editor.requestFocus()\n\n    if (hookReturns === false) {\n      return false\n    }\n\n    if (hookReturns) {\n      typeof hookReturns.href === 'string' && (href = hookReturns.href)\n      typeof hookReturns.target === 'string' && (target = hookReturns.target)\n    }\n\n    if (textSelected) {\n      if (href) {\n        this.props.editor.setValue(ContentUtils.toggleSelectionLink(this.props.editorState, href, target))\n      } else {\n        this.props.editor.setValue(ContentUtils.toggleSelectionLink(this.props.editorState, false))\n      }\n    } else {\n      this.props.editor.setValue(ContentUtils.insertText(this.props.editorState, text || href, null, {\n        type: 'LINK',\n        data: { href, target }\n      }))\n    }\n\n  }\n\n}","import React from 'react'\n\nexport const getHeadings = (lang) => [\n  {\n    key: 'header-one',\n    title: lang.controls.header + ' 1',\n    text: <h1>{lang.controls.header} 1</h1>,\n    type: 'block-type',\n    command: 'header-one'\n  }, {\n    key: 'header-two',\n    title: lang.controls.header + ' 2',\n    text: <h2>{lang.controls.header} 2</h2>,\n    type: 'block-type',\n    command: 'header-two'\n  }, {\n    key: 'header-three',\n    title: lang.controls.header + ' 3',\n    text: <h3>{lang.controls.header} 3</h3>,\n    type: 'block-type',\n    command: 'header-three'\n  }, {\n    key: 'header-four',\n    title: lang.controls.header + ' 4',\n    text: <h4>{lang.controls.header} 4</h4>,\n    type: 'block-type',\n    command: 'header-four'\n  }, {\n    key: 'header-five',\n    title: lang.controls.header + ' 5',\n    text: <h5>{lang.controls.header} 5</h5>,\n    type: 'block-type',\n    command: 'header-five'\n  }, {\n    key: 'header-six',\n    title: lang.controls.header + ' 6',\n    text: <h6>{lang.controls.header} 6</h6>,\n    type: 'block-type',\n    command: 'header-six'\n  }, {\n    key: 'unstyled',\n    title: lang.controls.normal,\n    text: lang.controls.normal,\n    type: 'block-type',\n    command: 'unstyled'\n  }\n]\n\nexport const blocks = {\n  'header-one': 'h1',\n  'header-two': 'h2',\n  'header-three': 'h3',\n  'header-four': 'h4',\n  'header-fiv': 'h5',\n  'header-six': 'h6',\n  'unstyled': 'p',\n  'blockquote': 'blockquote'\n}","import './style.scss'\nimport React from 'react'\nimport { getHeadings } from 'configs/maps'\nimport DropDown from 'components/common/DropDown'\n\nexport default (props) => {\n\n  let dropDownInstance = null\n\n  const headings = getHeadings(props.language).filter(item => props.headings.indexOf(item.key) !== -1)\n  const currentHeadingIndex = headings.findIndex((item) => item.command === props.current)\n  const caption = headings[currentHeadingIndex] ? headings[currentHeadingIndex].title : props.language.controls.normal\n\n  return (\n    <DropDown\n      caption={caption}\n      autoHide={true}\n      getContainerNode={props.getContainerNode}\n      title={props.language.controls.headings}\n      arrowActive={currentHeadingIndex === 0}\n      ref={(instance) => dropDownInstance = instance}\n      className={'control-item dropdown headings-dropdown'}\n    >\n      <ul className='menu'>\n        {\n          headings.map((item, index) => {\n            let isActive = props.current === item.command\n            return (\n              <li\n                key={index}\n                className={'menu-item' + (isActive ? ' active' : '')}\n                onClick={() => {props.onChange(item.command, item.type),dropDownInstance.hide()}}\n              >\n                {item.text}\n              </li>\n            )\n          })\n        }\n      </ul>\n    </DropDown>\n  )\n\n}","import './style.scss'\nimport React from 'react'\n\nexport default (props) => (\n  <div className=\"bf-colors-wrap\">\n    <ul className=\"bf-colors\">\n      {props.presetColors.map((item, index) => {\n        let className = props.color && item.toLowerCase() === props.color.toLowerCase() ? 'color-item active' : 'color-item'\n        return (\n          <li\n            key={index}\n            title={item}\n            className={className}\n            style={{color: item}}\n            data-color={item.replace('#', '')}\n            onClick={(e) => {\n              props.onChange(e.currentTarget.dataset.color, true)\n            }}\n          >\n          </li>\n        )\n      })}\n    </ul>\n  </div>\n)","import './style.scss'\nimport React from 'react'\nimport DropDown from 'components/common/DropDown'\nimport BuiltinColorPicker from 'components/common/ColorPicker'\nimport { ContentUtils } from 'braft-utils'\n\nexport default class TextColor extends React.Component {\n\n  state = {\n    colorType: 'color'\n  }\n\n  render () {\n\n    let captionStyle = {}\n    let currentColor = null\n    let { colorType } = this.state\n\n    const selectionStyles = this.props.editorState.getCurrentInlineStyle().toJS()\n\n    selectionStyles.forEach(style => {\n\n      if (style.indexOf('COLOR-') === 0) {\n        captionStyle.color = '#' + style.split('-')[1]\n        colorType === 'color' && (currentColor = captionStyle.color)\n      }\n\n      if (style.indexOf('BGCOLOR-') === 0) {\n        captionStyle.backgroundColor = '#' + style.split('-')[1]\n        colorType === 'background-color' && (currentColor = captionStyle.backgroundColor)\n      }\n\n    })\n\n    const caption = (\n      <i style={captionStyle} className='bfi-text-color'>\n        <span className='path1'></span>\n        <span className='path2'></span>\n      </i>\n    )\n\n    const ColorPicker = this.props.colorPicker || BuiltinColorPicker\n\n    return (\n      <DropDown\n        caption={caption}\n        title={this.props.language.controls.color}\n        showArrow={false}\n        autoHide={this.props.autoHide}\n        theme={this.props.theme}\n        getContainerNode={this.props.getContainerNode}\n        ref={(instance) => this.dropDownInstance = instance}\n        className={'control-item dropdown text-color-dropdown'}\n      >\n        <div className='bf-text-color-picker-wrap'>\n          <div className='bf-color-switch-buttons' style={this.props.enableBackgroundColor ? {} : {display: 'none'}}>\n            <button\n              type='button'\n              data-type='color'\n              className={colorType === 'color' ? 'active' : ''}\n              onClick={this.switchColorType}\n            >{this.props.language.controls.textColor}</button>\n            <button\n              type='button'\n              data-type='background-color'\n              className={colorType === 'background-color' ? 'active' : ''}\n              onClick={this.switchColorType}\n            >{this.props.language.controls.backgroundColor}</button>\n          </div>\n          <ColorPicker\n            width={200}\n            color={currentColor}\n            disableAlpha={true}\n            presetColors={this.props.colors}\n            onChange={this.toggleColor}\n          />\n        </div>\n      </DropDown>\n    )\n\n  }\n\n  switchColorType = ({ currentTarget }) => {\n    this.setState({\n      colorType: currentTarget.dataset.type\n    })\n  }\n\n  toggleColor = (color, closePicker) => {\n\n    if (color) {\n\n      const hookReturns = this.props.hooks(`toggle-text-${this.state.colorType}`, color)(color)\n\n      if (hookReturns === false) {\n        return false\n      }\n\n      if (typeof hookReturns === 'string') {\n        color =  hookReturns\n      }\n\n      if (this.state.colorType === 'color') {\n        this.props.editor.setValue(ContentUtils.toggleSelectionColor(this.props.editorState, color))\n      } else {\n        this.props.editor.setValue(ContentUtils.toggleSelectionBackgroundColor(this.props.editorState, color))\n      }\n\n    }\n\n    if (closePicker) {\n      this.dropDownInstance.hide()\n      this.props.editor.requestFocus()\n    }\n\n  }\n\n}","import './style.scss'\nimport React from 'react'\nimport DropDown from 'components/common/DropDown'\nimport { ContentUtils } from 'braft-utils'\n\nconst toggleFontSize = (event, props) => {\n\n  let fontSize = event.currentTarget.dataset.size\n  const hookReturns = props.hooks('toggle-font-size', fontSize)(fontSize)\n\n  if (hookReturns === false) {\n    return false\n  }\n\n  if (!isNaN(fontSize)) {\n    fontSize = hookReturns\n  }\n\n  props.editor.setValue(ContentUtils.toggleSelectionFontSize(props.editorState, fontSize))\n  props.editor.requestFocus()\n\n}\n\nexport default (props) => {\n\n  let caption = null\n  let currentFontSize = null\n  let dropDownInstance = null\n\n  props.fontSizes.find((item) => {\n    if (ContentUtils.selectionHasInlineStyle(props.editorState, 'FONTSIZE-' + item)) {\n      caption = item\n      currentFontSize = item\n      return true\n    }\n    return false\n  })\n\n  return (\n    <DropDown\n      autoHide={true}\n      caption={caption || props.defaultCaption}\n      getContainerNode={props.getContainerNode}\n      title={props.language.controls.fontSize}\n      ref={(instance) => dropDownInstance = instance}\n      className={'control-item dropdown bf-font-size-dropdown'}\n    >\n      <ul className='bf-font-sizes'>\n        {props.fontSizes.map((item, index) => {\n          return (\n            <li\n              key={index}\n              className={item === currentFontSize ? 'active' : null}\n              data-size={item}\n              onClick={(event) => {toggleFontSize(event, props),dropDownInstance.hide()}}\n            >{item}</li>\n          )\n        })}\n      </ul>\n    </DropDown>\n  )\n\n}","import './style.scss'\nimport React from 'react'\nimport DropDown from 'components/common/DropDown'\nimport { ContentUtils } from 'braft-utils'\n\nconst toggleLineHeight = (event, props) => {\n\n  let lineHeight = event.currentTarget.dataset.size\n  const hookReturns = props.hooks('toggle-line-height', lineHeight)(lineHeight)\n\n  if (hookReturns === false) {\n    return false\n  }\n\n  if (!isNaN(hookReturns)) {\n    lineHeight = hookReturns\n  }\n\n  props.editor.setValue(ContentUtils.toggleSelectionLineHeight(props.editorState, lineHeight))\n  props.editor.requestFocus()\n\n}\n\nexport default (props) => {\n\n  let caption = null\n  let currentLineHeight = null\n  let dropDownInstance = null\n\n  props.lineHeights.find((item) => {\n    if (ContentUtils.selectionHasInlineStyle(props.editorState, 'LINEHEIGHT-' + item)) {\n      caption = item\n      currentLineHeight = item\n      return true\n    }\n    return false\n  })\n\n  return (\n    <DropDown\n      autoHide={true}\n      caption={caption || props.defaultCaption}\n      getContainerNode={props.getContainerNode}\n      title={props.language.controls.lineHeight}\n      ref={(instance) => dropDownInstance = instance}\n      className={'control-item dropdown bf-line-height-dropdown'}\n    >\n      <ul className='bf-line-heights'>\n        {props.lineHeights.map((item, index) => {\n          return (\n            <li\n              key={index}\n              className={item === currentLineHeight ? 'active' : null}\n              data-size={item}\n              onClick={(event) => {toggleLineHeight(event, props),dropDownInstance.hide()}}\n            >{item}</li>\n          )\n        })}\n      </ul>\n    </DropDown>\n  )\n\n}","import './style.scss'\nimport React from 'react'\nimport DropDown from 'components/common/DropDown'\nimport { ContentUtils } from 'braft-utils'\n\nconst toggleFontFamily = (event, props) => {\n\n  let fontFamilyName = event.currentTarget.dataset.name\n  const hookReturns = props.hooks('toggle-font-family', fontFamilyName)(fontFamilyName, props.fontFamilies)\n\n  if (hookReturns === false) {\n    return false\n  }\n\n  if (typeof hookReturns === 'string') {\n    fontFamilyName = hookReturns\n  }\n\n  props.editor.setValue(ContentUtils.toggleSelectionFontFamily(props.editorState, fontFamilyName))\n  props.editor.requestFocus()\n\n}\n\nexport default (props) => {\n\n  let caption = null\n  let currentIndex = null\n  let dropDownInstance = null\n\n  props.fontFamilies.find((item, index) => {\n    if (ContentUtils.selectionHasInlineStyle(props.editorState, 'FONTFAMILY-' + item.name)) {\n      caption = item.name\n      currentIndex = index\n      return true\n    }\n    return false\n  })\n\n  return (\n    <DropDown\n      caption={caption || props.defaultCaption}\n      getContainerNode={props.getContainerNode}\n      title={props.language.controls.fontFamily}\n      autoHide={true}\n      arrowActive={currentIndex === 0}\n      ref={(instance) => dropDownInstance = instance}\n      className={'control-item dropdown font-family-dropdown'}\n    >\n      <ul className='menu'>\n        {props.fontFamilies.map((item, index) => {\n          return (\n            <li\n              key={index}\n              className={'menu-item ' + (index === currentIndex ? 'active' : '')}\n              data-name={item.name}\n              onClick={(event) => {toggleFontFamily(event, props),dropDownInstance.hide()}}\n            >\n              <span style={{fontFamily: item.family}}>{item.name}</span>\n            </li>\n          )\n        })}\n      </ul>\n    </DropDown>\n  )\n\n}","import React from 'react'\nimport { ContentUtils } from 'braft-utils'\nimport ControlGroup from 'components/business/ControlGroup'\n\nexport default class TextAlign extends React.Component {\n\n  state = {\n    currentAlignment: undefined\n  }\n\n  componentWillReceiveProps (next) {\n    this.setState({\n      currentAlignment: ContentUtils.getSelectionBlockData(next.editorState, 'textAlign')\n    })\n  }\n\n  setAlignment = (event) => {\n\n    let { alignment } = event.currentTarget.dataset\n    const hookReturns = this.props.hooks('toggle-text-alignment', alignment)(alignment)\n\n    if (this.props.textAligns.indexOf(hookReturns) > -1) {\n      alignment = hookReturns\n    }\n\n    this.props.editor.setValue(ContentUtils.toggleSelectionAlignment(this.props.editorState, alignment))\n    this.props.editor.requestFocus()\n\n  }\n\n  render () {\n\n    const textAlignmentTitles = [\n      this.props.language.controls.alignLeft,\n      this.props.language.controls.alignCenter,\n      this.props.language.controls.alignRight,\n      this.props.language.controls.alignJustify\n    ]\n\n    return (\n      <ControlGroup>\n        {this.props.textAligns.map((item, index) => (\n          <button\n            type='button'\n            key={index}\n            data-title={textAlignmentTitles[index]}\n            data-alignment={item}\n            className={'control-item button ' + (item === this.state.currentAlignment ? 'active' : null)}\n            onClick={this.setAlignment}\n          >\n            <i className={'bfi-align-' + item}></i>\n          </button>\n        ))}\n      </ControlGroup>\n    )\n  }\n\n}","import './style.scss'\nimport React from 'react'\nimport DropDown from 'components/common/DropDown'\nimport { ContentUtils } from 'braft-utils'\n\nconst insertEmoji = (event, props) => {\n\n  let emoji = event.currentTarget.dataset.emoji\n  const hookReturns = props.hooks('insert-emoji', emoji)(emoji)\n\n  if (hookReturns === false) {\n    return false\n  }\n\n  if (typeof hookReturns === 'string') {\n    emoji = hookReturns\n  }\n\n  props.editor.setValue(ContentUtils.insertText(props.editorState, emoji))\n  props.editor.requestFocus()\n\n}\n\nexport default (props) => {\n\n  return (\n    <DropDown\n      caption={props.defaultCaption}\n      autoHide={true}\n      showArrow={false}\n      getContainerNode={props.getContainerNode}\n      title={props.language.controls.emoji}\n      className={'control-item dropdown bf-emoji-dropdown'}\n    >\n      <div className='bf-emojis-wrap'>\n        <ul className='bf-emojis'>\n          {props.emojis.map((item, index) => {\n            return (\n              <li\n                key={index}\n                data-emoji={item}\n                onClick={(event) => insertEmoji(event, props)}\n              >{item}</li>\n            )\n          })}\n        </ul>\n      </div>\n    </DropDown>\n  )\n\n}","import './style.scss'\nimport React from 'react'\nimport DropDown from 'components/common/DropDown'\nimport { ContentUtils } from 'braft-utils'\n\nconst toggleLetterSpacing = (event, props) => {\n\n  let letterSpacing = event.currentTarget.dataset.size\n  const hookReturns = props.hooks('toggle-letter-spacing', letterSpacing)(letterSpacing)\n\n  if (hookReturns === false) {\n    return false\n  }\n\n  if (!isNaN(hookReturns)) {\n    letterSpacing = hookReturns\n  }\n\n  props.editor.setValue(ContentUtils.toggleSelectionLetterSpacing(props.editorState, letterSpacing))\n  props.editor.requestFocus()\n\n}\n\nexport default (props) => {\n\n  let caption = null\n  let currentLetterSpacing = null\n  let dropDownInstance = null\n\n  props.letterSpacings.find((item) => {\n    if (ContentUtils.selectionHasInlineStyle(props.editorState, 'LETTERSPACING-' + item)) {\n      caption = item\n      currentLetterSpacing = item\n      return true\n    }\n    return false\n  })\n\n  return (\n    <DropDown\n      autoHide={true}\n      caption={caption || props.defaultCaption}\n      getContainerNode={props.getContainerNode}\n      title={props.language.controls.letterSpacing}\n      ref={(instance) => dropDownInstance = instance}\n      className={'control-item dropdown bf-letter-spacing-dropdown'}\n    >\n      <ul className='bf-letter-spacings'>\n        {props.letterSpacings.map((item, index) => {\n          return (\n            <li\n              key={index}\n              className={item === currentLetterSpacing ? 'active' : null}\n              data-size={item}\n              onClick={(event) => {toggleLetterSpacing(event, props),dropDownInstance.hide()}}\n            >{item}</li>\n          )\n        })}\n      </ul>\n    </DropDown>\n  )\n\n}","import React from 'react'\nimport { ContentUtils } from 'braft-utils'\nimport ControlGroup from 'components/business/ControlGroup'\n\nexport default class TextAlign extends React.Component {\n\n  state = {\n    currentIndent: 0\n  }\n\n  componentWillReceiveProps (nextProps) {\n    this.setState({\n      currentIndent: ContentUtils.getSelectionBlockData(nextProps.editorState, 'textIndent') || 0\n    })\n  }\n\n  increaseIndent = () => {\n    this.props.editor.setValue(ContentUtils.increaseSelectionIndent(this.props.editorState))\n    this.props.editor.requestFocus()\n  }\n\n  decreaseIndent = () => {\n    this.props.editor.setValue(ContentUtils.decreaseSelectionIndent(this.props.editorState))\n    this.props.editor.requestFocus()\n  }\n\n  render () {\n\n    const { currentIndent } = this.state\n    const { language } = this.props\n\n    return (\n      <ControlGroup>\n        <button\n          key={0}\n          type='button'\n          data-title={language.controls.increaseIndent}\n          disabled={currentIndent >= 6}\n          className={`control-item button button-indent-increase${currentIndent > 0 && currentIndent < 6 ? ' active' : ''}`}\n          onClick={this.increaseIndent}\n        >\n          <i className={'bfi-indent-increase'}></i>\n        </button>\n        <button\n          key={1}\n          type='button'\n          data-title={language.controls.decreaseIndent}\n          disabled={currentIndent <= 0}\n          className=\"control-item button button-indent-decrease\"\n          onClick={this.decreaseIndent}\n        >\n          <i className={'bfi-indent-decrease'}></i>\n        </button>\n      </ControlGroup>\n    )\n\n  }\n\n}","import './style.scss'\nimport React from 'react'\nimport getEditorControls from 'configs/controls'\nimport LinkEditor from 'components/business/LinkEditor'\nimport HeadingPicker from 'components/business/Headings'\nimport TextColorPicker from 'components/business/TextColor'\nimport FontSizePicker from 'components/business/FontSize'\nimport LineHeightPicker from 'components/business/LineHeight'\nimport FontFamilyPicker from 'components/business/FontFamily'\nimport TextAlign from 'components/business/TextAlign'\nimport EmojiPicker from 'components/business/EmojiPicker'\nimport LetterSpacingPicker from 'components/business/LetterSpacing'\nimport TextIndent from 'components/business/TextIndent'\nimport DropDown from 'components/common/DropDown'\nimport { ContentUtils } from 'braft-utils'\nimport { showModal } from 'components/common/Modal'\nimport { getExtensionControls } from 'helpers/extension'\n\nconst commandHookMap = {\n  'inline-style': 'toggle-inline-style',\n  'block-type': 'change-block-type',\n  'editor-method': 'exec-editor-command'\n}\n\nconst exclusiveInlineStyles = {\n  'superscript': 'subscript',\n  'subscript': 'superscript'\n}\n\nconst mergeControls = (commonProps, builtControls, extensionControls, extendControls) => {\n\n  extensionControls = extensionControls.map(item => typeof item === 'function' ? item(commonProps) : item)\n  extendControls = extendControls.map(item => typeof item === 'function' ? item(commonProps) : item)\n\n  if (extensionControls.length === 0 && extendControls.length === 0) {\n    return builtControls\n  }\n\n  return builtControls.map(item => {\n    return extendControls.find(subItem => {\n      return subItem.replace === (item.key || item)\n    }) || extensionControls.find(subItem => {\n      return subItem.replace === (item.key || item)\n    }) || item\n  }).concat(extensionControls.length ? 'separator' : '').concat(extensionControls.filter(item => {\n    return !item.replace\n  })).concat(extendControls.filter(item => {\n    return typeof item === 'string' || !item.replace\n  }))\n\n}\n\nexport default class ControlBar extends React.Component {\n\n  allControls = []\n  mediaLibiraryModal = null\n  extendedModals = {}\n\n  componentDidUpdate () {\n\n    const { language } = this.props\n\n    this.allControls.forEach(item => {\n      if (item.type === 'modal') {\n        if (item.modal && item.modal.id && this.extendedModals[item.modal.id]) {\n          this.extendedModals[item.modal.id].update({ ...item.modal, language })\n        }\n      }\n    })\n\n  }\n\n  getControlItemClassName (data) {\n\n    let className = 'control-item button'\n    let { type, command } = data\n\n    if (type === 'inline-style' && ContentUtils.selectionHasInlineStyle(this.props.editorState, command)) {\n      className += ' active'\n    } else if (type === 'block-type' && ContentUtils.getSelectionBlockType(this.props.editorState) === command) {\n      className += ' active'\n    } else if (type === 'entity' && ContentUtils.getSelectionEntityType(this.props.editorState) === command) {\n      className += ' active'\n    }\n\n    return className\n\n  }\n\n  applyControl (command, type, data = {}) {\n\n    const hookReturns = this.props.hooks(commandHookMap[type] || type, command)(command)\n    let editorState = this.props.editorState\n\n    if (hookReturns === false) {\n      return false\n    }\n\n    if (typeof hookReturns === 'string') {\n      command = hookReturns\n    }\n\n    if (type === 'inline-style') {\n      let exclusiveInlineStyle = exclusiveInlineStyles[command]\n      if (exclusiveInlineStyle && ContentUtils.selectionHasInlineStyle(editorState, exclusiveInlineStyle)) {\n        editorState = ContentUtils.toggleSelectionInlineStyle(editorState, exclusiveInlineStyle)\n      }\n      this.props.editor.setValue(ContentUtils.toggleSelectionInlineStyle(editorState, command))\n    } else if (type === 'block-type') {\n      this.props.editor.setValue(ContentUtils.toggleSelectionBlockType(editorState, command))\n    } else if (type === 'entity') {\n      this.props.editor.setValue(ContentUtils.toggleSelectionEntity(editorState, {\n        type: command,\n        mutability: data.mutability || 'MUTABLE',\n        data: data.data || {}\n      }))\n    } else if (type === 'editor-method') {\n      this.props.editor[command] && this.props.editor[command]()\n    }\n\n  }\n\n  openBraftFinder = () => {\n\n    if (!this.props.braftFinder || !this.props.braftFinder.ReactComponent) {\n      return false\n    }\n\n    if (this.props.hooks('open-braft-finder')() === false) {\n      return false\n    }\n\n    const mediaProps = this.props.media\n    const MediaLibrary = this.props.braftFinder.ReactComponent\n\n    this.mediaLibiraryModal = showModal({\n      title: this.props.language.controls.mediaLibirary,\n      language: this.props.language,\n      width: 640,\n      showFooter: false,\n      component: (\n        <MediaLibrary\n          accepts={mediaProps.accepts}\n          onCancel={this.closeBraftFinder}\n          onInsert={this.insertMedias}\n          onChange={mediaProps.onChange}\n          externals={mediaProps.externals}\n          onBeforeSelect={this.bindBraftFinderHook('select-medias')}\n          onBeforeDeselect={this.bindBraftFinderHook('deselect-medias')}\n          onBeforeRemove={this.bindBraftFinderHook('remove-medias')}\n          onBeforeInsert={this.bindBraftFinderHook('insert-medias')}\n          onFileSelect={this.bindBraftFinderHook('select-files')}\n        />\n      )\n    })\n\n  }\n\n  bindBraftFinderHook = (hookName) => (...params) => {\n    return this.props.hooks(hookName, params[0])(...params)\n  }\n\n  insertMedias = (medias) => {\n\n    this.props.editor.setValue(ContentUtils.insertMedias(this.props.editorState, medias))\n    this.props.editor.requestFocus()\n    this.props.media.onInsert && this.props.media.onInsert(medias)\n    this.closeBraftFinder()\n\n  }\n\n  closeBraftFinder = () => {\n\n    this.props.media.onCancel && this.props.media.onCancel()\n    this.mediaLibiraryModal && this.mediaLibiraryModal.close()\n\n  }\n\n  render() {\n\n    const { editor, editorId, editorState, className, style, controls, media, extendControls, language, hooks, colors, colorPicker, colorPickerTheme, colorPickerAutoHide, headings, fontSizes, fontFamilies, emojis, getContainerNode, lineHeights, letterSpacings, textAligns, textBackgroundColor, allowInsertLinkText, defaultLinkTarget } = this.props\n    const currentBlockType = ContentUtils.getSelectionBlockType(editorState)\n    const commonProps = { editor, editorId, editorState, language, getContainerNode, hooks }\n\n    const renderedControls = []\n    const editorControls = getEditorControls(language, editor)\n    const extensionControls = getExtensionControls(editorId)\n    const allControls = mergeControls(commonProps, controls, extensionControls, extendControls)\n\n    this.allControls = allControls\n\n    return (\n      <div className={`bf-controlbar ${className || ''}`} style={style} onMouseDown={this.preventDefault}>\n        {\n          allControls.map((item, index) => {\n\n            let itemKey = typeof item === 'string' ? item : item.key\n            if (typeof itemKey !== 'string') {\n              return null\n            }\n            if (renderedControls.indexOf(itemKey) > -1) {\n              return null\n            }\n            if (itemKey.toLowerCase() === 'separator') {\n              return <span key={index} className='separator-line'></span>\n            }\n            let controlItem = editorControls.find((subItem) => {\n              return subItem.key.toLowerCase() === itemKey.toLowerCase()\n            })\n            if (typeof item !== 'string') {\n              controlItem = { ...controlItem, ...item }\n            }\n            if (!controlItem) {\n              return null\n            }\n            renderedControls.push(itemKey)\n            if (controlItem.type === 'headings') {\n              return <HeadingPicker\n                key={index}\n                headings={headings}\n                current={currentBlockType}\n                onChange={(command) => this.applyControl(command, 'block-type')}\n                {...commonProps}\n              />\n            } else if (controlItem.type === 'text-color') {\n              return <TextColorPicker\n                key={index}\n                colors={colors}\n                colorPicker={colorPicker}\n                theme={colorPickerTheme}\n                autoHide={colorPickerAutoHide}\n                enableBackgroundColor={textBackgroundColor}\n                {...commonProps}\n              />\n            } else if (controlItem.type === 'font-size') {\n              return <FontSizePicker\n                key={index}\n                fontSizes={fontSizes}\n                defaultCaption={controlItem.title}\n                {...commonProps}\n              />\n            } else if (controlItem.type === 'line-height') {\n              return <LineHeightPicker\n                key={index}\n                lineHeights={lineHeights}\n                defaultCaption={controlItem.title}\n                {...commonProps}\n              />\n            } else if (controlItem.type === 'letter-spacing') {\n              return <LetterSpacingPicker\n                key={index}\n                letterSpacings={letterSpacings}\n                defaultCaption={controlItem.title}\n                {...commonProps}\n              />\n            } else if (controlItem.type === 'text-indent') {\n              return <TextIndent\n                key={index}\n                defaultCaption={controlItem.title}\n                {...commonProps}\n              />\n            } else if (controlItem.type === 'font-family') {\n              return <FontFamilyPicker\n                key={index}\n                fontFamilies={fontFamilies}\n                defaultCaption={controlItem.title}\n                {...commonProps}\n              />\n            } else if (controlItem.type === 'emoji') {\n              return <EmojiPicker\n                key={index}\n                emojis={emojis}\n                defaultCaption={controlItem.text}\n                {...commonProps}\n              />\n            } else if (controlItem.type === 'link') {\n              return <LinkEditor\n                key={index}\n                defaultLinkTarget={defaultLinkTarget}\n                allowInsertLinkText={allowInsertLinkText}\n                {...commonProps}\n              />\n            } else if (controlItem.type === 'text-align') {\n              return (\n                <TextAlign\n                  key={index}\n                  textAligns={textAligns}\n                  {...commonProps}\n                />\n              )\n            } else if (controlItem.type === 'media') {\n              if (!media.image && !media.video && !media.audio) {\n                return null\n              }\n              return (\n                <button\n                  type='button'\n                  key={index}\n                  data-title={controlItem.title}\n                  disabled={controlItem.disabled}\n                  className='control-item media button'\n                  onClick={this.openBraftFinder}\n                >\n                  {controlItem.text}\n                </button>\n              )\n            } else if (controlItem.type === 'dropdown') {\n              return (\n                <DropDown\n                  key={index}\n                  className={`control-item extend-control-item dropdown ${controlItem.className || ''}`}\n                  caption={controlItem.text}\n                  htmlCaption={controlItem.html}\n                  showArrow={controlItem.showArrow}\n                  title={controlItem.title}\n                  arrowActive={controlItem.arrowActive}\n                  theme={controlItem.theme}\n                  autoHide={controlItem.autoHide}\n                  disabled={controlItem.disabled}\n                  ref={controlItem.ref}\n                  {...commonProps}\n                >\n                  {controlItem.component}\n                </DropDown>\n              )\n            } else if (controlItem.type === 'modal') {\n              return (\n                <button\n                  type='button'\n                  key={index}\n                  data-title={controlItem.title}\n                  disabled={controlItem.disabled}\n                  className={`control-item extend-control-item button ${controlItem.className || ''}`}\n                  dangerouslySetInnerHTML={controlItem.html ? { __html: controlItem.html } : null}\n                  onClick={(event) => {\n                    if (controlItem.modal && controlItem.modal.id) {\n                      if (this.extendedModals[controlItem.modal.id]) {\n                        this.extendedModals[controlItem.modal.id].active = true\n                        this.extendedModals[controlItem.modal.id].update({ ...controlItem.modal, language })\n                      } else {\n                        this.extendedModals[controlItem.modal.id] = showModal({ ...controlItem.modal, language })\n                        controlItem.modal.onCreate && controlItem.modal.onCreate(this.extendedModals[controlItem.modal.id])\n                      }\n                    }\n                    controlItem.onClick && controlItem.onClick(event)\n                  }}\n                >\n                  {!controlItem.html ? controlItem.text : null}\n                </button>\n              )\n            } else if (controlItem.type === 'component') {\n              return (\n                <div\n                  key={index}\n                  className={`component-wrapper ${controlItem.className || ''}`}\n                >{controlItem.component}</div>\n              )\n            } else if (controlItem.type === 'button') {\n              return (\n                <button\n                  type='button'\n                  key={index}\n                  data-title={controlItem.title}\n                  disabled={controlItem.disabled}\n                  className={`control-item button ${controlItem.className || ''}`}\n                  dangerouslySetInnerHTML={controlItem.html ? { __html: controlItem.html } : null}\n                  onClick={(event) => controlItem.onClick && controlItem.onClick(event)}\n                >\n                  {!controlItem.html ? controlItem.text : null}\n                </button>\n              )\n            } else if (controlItem) {\n\n              let disabled = false\n\n              if (controlItem.command === 'undo') {\n                disabled = editorState.getUndoStack().size === 0\n              } else if (controlItem.command === 'redo') {\n                disabled = editorState.getRedoStack().size === 0\n              }\n\n              return (\n                <button\n                  type='button'\n                  key={index}\n                  disabled={disabled}\n                  data-title={controlItem.title}\n                  className={this.getControlItemClassName({\n                    type: controlItem.type,\n                    command: controlItem.command\n                  })}\n                  onClick={() => this.applyControl(controlItem.command, controlItem.type, controlItem.data)}\n                >\n                  {controlItem.text}\n                </button>\n              )\n            }\n          })\n        }\n      </div>\n    )\n\n  }\n\n  preventDefault (event) {\n\n    const tagName = event.target.tagName.toLowerCase()\n\n    if (tagName === 'input' || tagName === 'label') {\n      // ...\n    } else {\n      event.preventDefault()\n    }\n\n  }\n\n}","import 'draft-js/dist/Draft.css'\nimport 'assets/scss/_base.scss'\nimport React from 'react'\nimport languages from 'languages'\nimport BraftFinder from 'braft-finder'\nimport { ColorUtils, ContentUtils } from 'braft-utils'\nimport { Editor, EditorState } from 'draft-js'\nimport { Map } from 'immutable'\nimport getKeyBindingFn from 'configs/keybindings'\nimport SuggestionList from './../suggest';\nimport addSuggestion from './../suggest/addSuggestion';\nimport defaultProps from 'configs/props'\nimport { keyCommandHandlers, returnHandlers, beforeInputHandlers, dropHandlers, droppedFilesHandlers, copyHandlers, pastedFilesHandlers, pastedTextHandlers, compositionStartHandler } from 'configs/handlers'\nimport { getBlockRendererFn, getBlockRenderMap, getBlockStyleFn, getCustomStyleMap, getCustomStyleFn, getDecorators } from 'renderers'\nimport { compositeStyleImportFn, compositeStyleExportFn, compositeEntityImportFn, compositeEntityExportFn, compositeBlockImportFn, compositeBlockExportFn, getPropInterceptors } from 'helpers/extension'\nimport ControlBar from 'components/business/ControlBar'\n\nconst buildHooks = (hooks) => (hookName, defaultReturns = {}) => {\n  return hooks[hookName] || (() => defaultReturns)\n}\n\nconst filterColors = (colors, colors2) => {\n  return colors.filter(item => {\n    return !colors2.find(color => color.toLowerCase() === item.toLowerCase())\n  }).filter((item, index, array) => array.indexOf(item) === index)\n}\n\nconst isControlEnabled = (props, controlName) => {\n  return [...props.controls, ...props.extendControls].find(item => item === controlName || item.key === controlName) && props.excludeControls.indexOf(controlName) === -1\n}\n\nconst getConvertOptions = (props) => {\n\n  const editorId = props.editorId || props.id\n  const convertOptions = { ...defaultProps.converts, ...props.converts, fontFamilies: props.fontFamilies }\n\n  convertOptions.styleImportFn = compositeStyleImportFn(convertOptions.styleImportFn, editorId)\n  convertOptions.styleExportFn = compositeStyleExportFn(convertOptions.styleExportFn, editorId)\n  convertOptions.entityImportFn = compositeEntityImportFn(convertOptions.entityImportFn, editorId)\n  convertOptions.entityExportFn = compositeEntityExportFn(convertOptions.entityExportFn, editorId)\n  convertOptions.blockImportFn = compositeBlockImportFn(convertOptions.blockImportFn, editorId)\n  convertOptions.blockExportFn = compositeBlockExportFn(convertOptions.blockExportFn, editorId)\n\n  return convertOptions\n\n}\n\nvar  filteredArrayTemp;\n\nexport default class BraftEditor extends React.Component {\n\n  static defaultProps = defaultProps\n\n  constructor(props) {\n\n    super(props)\n\n    this.editorProps = this.getEditorProps(props)\n    this.editorDecorators = getDecorators(this.editorProps.editorId || this.editorProps.id)\n    this.autocompleteState = null;\n    this.isFocused = false\n    this.isLiving = false\n    this.braftFinder = null\n    this.valueInitialized = !!(this.props.defaultValue || this.props.value)\n\n    const defaultEditorState = (this.props.defaultValue || this.props.value) instanceof EditorState\n      ? (this.props.defaultValue || this.props.value)\n      : EditorState.createEmpty(this.editorDecorators)\n    defaultEditorState.setConvertOptions(getConvertOptions(this.editorProps))\n\n    let tempColors = []\n\n    if (ContentUtils.isEditorState(defaultEditorState)) {\n\n      const colors = ColorUtils.detectColorsFromDraftState(defaultEditorState.toRAW(true))\n      defaultEditorState.setConvertOptions(getConvertOptions(this.editorProps))\n\n      tempColors = filterColors(colors, this.editorProps.colors)\n    }\n\n    this.state = {\n      tempColors,\n      editorState: defaultEditorState,\n      isFullscreen: false,\n      draftProps: {},\n      autocompleteState: null,\n    }\n    this.containerNode = null\n  }\n\n  getEditorProps(props) {\n\n    props = props || this.props\n\n    const { value, defaultValue, onChange, ...restProps } = props// eslint-disable-line no-unused-vars\n    const propInterceptors = getPropInterceptors(restProps.editorId || restProps.id)\n\n    if (propInterceptors.length === 0) {\n      return restProps\n    }\n\n    let porpsMap = Map(restProps)\n\n    propInterceptors.forEach(interceptor => {\n      porpsMap = porpsMap.merge(Map(interceptor(porpsMap.toJS(), this) || {}))\n    })\n\n    return porpsMap.toJS()\n\n  }\n\n  componentWillMount() {\n\n    if (isControlEnabled(this.editorProps, 'media')) {\n\n      const { language, media } = this.editorProps\n      const { uploadFn, validateFn, items } = { ...defaultProps.media, ...media }\n\n      this.braftFinder = new BraftFinder({\n        items: items,\n        language: language,\n        uploader: uploadFn,\n        validator: validateFn\n      })\n\n      this.forceUpdate()\n\n    }\n\n  }\n\n  componentDidMount() {\n\n    this.isLiving = true\n\n  }\n\n  componentDidUpdate(_, prevState) {\n\n    if (prevState.editorState !== this.state.editorState) {\n      this.state.editorState.setConvertOptions(getConvertOptions(this.editorProps))\n    }\n\n  }\n\n  componentWillReceiveProps(props) {\n\n    this.editorProps = this.getEditorProps(props)\n\n    const { value: editorState } = props\n    const { media, language } = this.editorProps\n    const currentProps = this.getEditorProps()\n\n    if (!isControlEnabled(currentProps, 'media') && isControlEnabled(this.editorProps, 'media') && !this.braftFinder) {\n\n      const { uploadFn, validateFn, items } = { ...defaultProps.media, ...media }\n\n      this.braftFinder = new BraftFinder({\n        items: items,\n        language: language,\n        uploader: uploadFn,\n        validator: validateFn\n      })\n\n      this.forceUpdate()\n\n    }\n\n    if (media && media.items && this.braftFinder) {\n      this.braftFinder.setItems(media.items)\n    }\n\n    let nextEditorState\n\n    if (!this.valueInitialized && typeof this.props.defaultValue === 'undefined' && ContentUtils.isEditorState(props.defaultValue)) {\n      nextEditorState = props.defaultValue\n    } else if (ContentUtils.isEditorState(editorState)) {\n      nextEditorState = editorState\n    }\n\n    if (nextEditorState) {\n\n      if (nextEditorState && nextEditorState !== this.state.editorState) {\n\n        const tempColors = ColorUtils.detectColorsFromDraftState(nextEditorState.toRAW(true))\n        nextEditorState.setConvertOptions(getConvertOptions(this.editorProps))\n\n        this.setState({\n          tempColors: filterColors([...this.state.tempColors, ...tempColors], currentProps.colors),\n          editorState: nextEditorState\n        }, () => {\n          this.props.onChange && this.props.onChange(nextEditorState)\n        })\n\n      } else {\n        this.setState({\n          editorState: nextEditorState\n        })\n      }\n\n    }\n\n  }\n\n  componentWillUnmount() {\n    this.isLiving = false\n    this.controlBarInstance && this.controlBarInstance.closeBraftFinder()\n  }\n\n  hasEntityAtSelection = (editorState) => {\n\n\n    const selection = editorState.getSelection();\n    if (!selection.getHasFocus()) {\n      return false;\n    }\n\n    const contentState = editorState.getCurrentContent();\n    const block = contentState.getBlockForKey(selection.getStartKey());\n    return !!block.getEntityAt(selection.getStartOffset() - 1);\n  };\n\n  getAutocompleteRange = (editorState, trigger) => {\n    const selection = window.getSelection();\n    if (selection.rangeCount === 0) {\n      return null;\n    }\n\n    if (this.hasEntityAtSelection(editorState)) {\n      return null;\n    }\n\n    const range = selection.getRangeAt(0);\n    let text = range.startContainer.textContent;\n    text = text.substring(0, range.startOffset);\n    const index = text.lastIndexOf(trigger);\n    if (index === -1) {\n      return null;\n    }\n    text = text.substring(index);\n    return {\n      text,\n      start: index,\n      end: range.startOffset\n    };\n  };\n\n  getAutocompleteState = (editorState, invalidate = true) => {\n    if (!invalidate) {\n      return this.autocompleteState;\n    }\n\n    var type = null;\n    var trigger = null;\n    // const tagRange = this.getAutocompleteRange(editorState, '#');\n    const personRange = this.getAutocompleteRange(editorState, '@');\n    if (!personRange) {\n      this.autocompleteState = null;\n      return null;\n    }\n    var range = personRange;\n    type = 2;\n    trigger = '@';\n    // if (!tagRange) {\n    //   range = personRange;\n    //   type = 2;\n    //   trigger = '@';\n    // }\n\n    // if (!personRange) {\n    //   range = tagRange;\n    //   type = 1;\n    //   trigger = '#';\n    // }\n\n    if (!range) {\n      range = tagRange.start > personRange.start ? tagRange : personRange;\n      type = tagRange.start > personRange.start ? 1 : 2;\n      trigger = tagRange.start > personRange.start ? '#' : '@';\n    }\n    let mentionText = range.text.substring(1, range.text.length);\n    this.editorProps.onMentionChange(mentionText);\n    const tempRange = window.getSelection().getRangeAt(0).cloneRange();\n    tempRange.setStart(tempRange.startContainer, range.start);\n    // const mark = document.createElement('mark');\n    // tempRange.surroundContents(mark);\n    const rangeRect = tempRange.getBoundingClientRect();\n    let [left, top] = [rangeRect.left, rangeRect.bottom ];\n    this.autocompleteState = {\n      trigger,\n      type,\n      left,\n      top,\n      text: range.text,\n      selectedIndex: 0\n    };\n    return this.autocompleteState;\n  };\n\n  onChange = (editorState, callback) => {\n    if (!(editorState instanceof EditorState)) {\n      editorState = EditorState.set(editorState, {\n        decorator: this.editorDecorators\n      })\n    }\n\n    if (!editorState.convertOptions) {\n      editorState.setConvertOptions(getConvertOptions(this.editorProps))\n    }\n\n    this.setState({ editorState }, () => {\n      this.props.onChange && this.props.onChange(editorState)\n      callback && callback(editorState)\n    })\n\n    window.requestAnimationFrame(() => {\n      this.setState({ autocompleteState: this.getAutocompleteState(editorState) });\n    });\n  }\n\n\n\n\n  getFilteredArray = (type, text) => {\n    const dataArray = [\n      'Bruce Wayne',\n      'Helga Pataki',\n      'Lady Gaga',\n      'Lana Del Rey',\n      'Marilyn Monroe',\n    ]\n    return dataArray;\n  }\n\n  updateMentionSelected = (selectedIndex) => {\n    const {\n      autocompleteState,\n    } = this.state; \n    autocompleteState.selectedIndex = selectedIndex;\n    this.setState({\n      autocompleteState\n    })\n    this.autocompleteState = autocompleteState;\n  }\n\n\n  renderAutocomplete = () => {\n    const {\n      autocompleteState,\n    } = this.state;\n    if (!autocompleteState) {\n      return null;\n    }\n    autocompleteState.array = this.props.mentions;\n    autocompleteState.onSuggestionClick = this.onSuggestionItemClick;\n    return <SuggestionList suggestionsState={\n      autocompleteState\n    }\n    onSelectedChange = {this.updateMentionSelected}\n    onMentionSelect = {this.commitSelection}\n    />\n  };\n\n  getDraftInstance = () => {\n    return this.draftInstance\n  }\n\n  getFinderInstance = () => {\n    return this.braftFinder\n  }\n\n  getValue = () => {\n    return this.state.editorState\n  }\n\n  setValue = (editorState, callback) => {\n    return this.onChange(editorState, callback)\n  }\n\n  forceRender = () => {\n\n    const selectionState = this.state.editorState.getSelection()\n\n    this.setValue(EditorState.set(this.state.editorState, {\n      decorator: this.editorDecorators\n    }), () => {\n      this.setValue(EditorState.forceSelection(this.state.editorState, selectionState))\n    })\n\n  }\n\n  normalizeIndex = (selectedIndex, max) => {\n    let index = selectedIndex % max;\n    if (index < 0) {\n        index += max;\n    }\n    return index;\n}\n\n  onInsert = (insertState) => {\n    if (!this.props.mentions) {\n      return null;\n    }\n    const index = this.normalizeIndex(insertState.selectedIndex, this.props.mentions.length);\n    if (isNaN(index)) {\n      insertState.text =  insertState.text_temp;\n    }else {\n      insertState.text = insertState.trigger + this.props.mentions[index];\n    }\n    return addSuggestion(insertState);\n  };\n\n  getInsertState(selectedIndex, trigger) {\n    const {\n      editorState\n    } = this.state;\n    const currentSelectionState = editorState.getSelection();\n    const end = currentSelectionState.getAnchorOffset();\n    const anchorKey = currentSelectionState.getAnchorKey();\n    const currentContent = editorState.getCurrentContent();\n    const currentBlock = currentContent.getBlockForKey(anchorKey);\n    const blockText = currentBlock.getText();\n    const start = blockText.substring(0, end).lastIndexOf(trigger);\n    return {\n      editorState,\n      start,\n      end,\n      trigger,\n      selectedIndex,\n      text_temp: blockText,\n    }\n  }\n\n  onMentionSelect = () => {\n    let autocompleteState = this.getAutocompleteState(this.state.editorState, false);\n    const insertState = this.getInsertState(autocompleteState.selectedIndex, autocompleteState.trigger);\n    const newEditorState = this.onInsert(insertState);\n    this.props.onChange(newEditorState)\n    // this.onChange(newEditorState);\n  }\n\n\n  commitSelection = (e) => {\n    let autocompleteState = this.getAutocompleteState(this.state.editorState, false);\n    if (!autocompleteState) {\n      return false;\n    }\n    e.preventDefault();\n    this.onMentionSelect();\n    this.autocompleteState = null;\n    this.setState({\n      autocompleteState: null,\n    })\n    return true;\n  };\n\n  onTab = (event) => {\n\n    if (keyCommandHandlers('tab', this.state.editorState, this) === 'handled') {\n      event.preventDefault()\n    }\n\n    this.editorProps.onTab && this.editorProps.onTab(event)\n\n  }\n\n  onArrow = (e, originalHandler, nudgeAmount) => {\n    let autocompleteState = this.getAutocompleteState(this.state.editorState, false);\n    if (!autocompleteState) {\n      if (originalHandler) {\n        originalHandler(e);\n      }\n      return;\n    }\n\n    e.preventDefault();\n    if (autocompleteState.selectedIndex + nudgeAmount >= 0 && autocompleteState.selectedIndex + nudgeAmount <= (this.props.mentions.length - 1)) {\n      autocompleteState.selectedIndex += nudgeAmount;\n      this.autocompleteState = autocompleteState;\n      this.setState({\n        autocompleteState\n      })\n    }\n    \n  }\n\n  onUpArrow = (e) => {\n    this.onArrow(e, this.editorProps.onUpArrow, -1);\n  }\n\n  onDownArrow = (e) => {\n    this.onArrow(e, this.editorProps.onDownArrow, 1);\n  }\n\n  onFocus = () => {\n    this.isFocused = true\n    this.editorProps.onFocus && this.editorProps.onFocus(this.state.editorState)\n  }\n\n  onBlur = () => {\n    this.isFocused = false\n    this.editorProps.onBlur && this.editorProps.onBlur(this.state.editorState)\n  }\n\n  requestFocus = () => {\n    setTimeout(() => this.draftInstance.focus(), 0)\n  }\n\n  handleKeyCommand = (command, editorState) => keyCommandHandlers(command, editorState, this)\n\n  handleReturn = (event, editorState) => { returnHandlers(event, editorState, this) }\n\n  handleBeforeInput = (chars, editorState) => beforeInputHandlers(chars, editorState, this)\n\n  handleDrop = (selectionState, dataTransfer) => dropHandlers(selectionState, dataTransfer, this)\n\n  handleDroppedFiles = (selectionState, files) => droppedFilesHandlers(selectionState, files, this)\n\n  handlePastedFiles = (files) => pastedFilesHandlers(files, this)\n\n  handleCopyContent = (event) => copyHandlers(event, this)\n\n  handlePastedText = (text, html, editorState) => pastedTextHandlers(text, html, editorState, this)\n\n  handleCompositionStart = (event) => compositionStartHandler(event, this)\n\n  undo = () => {\n    this.setValue(ContentUtils.undo(this.state.editorState))\n  }\n\n  redo = () => {\n    this.setValue(ContentUtils.redo(this.state.editorState))\n  }\n\n  removeSelectionInlineStyles = () => {\n    this.setValue(ContentUtils.removeSelectionInlineStyles(this.state.editorState))\n  }\n\n  insertHorizontalLine = () => {\n    this.setValue(ContentUtils.insertHorizontalLine(this.state.editorState))\n  }\n\n  clearEditorContent = () => {\n    this.setValue(ContentUtils.clear(this.state.editorState), (editorState) => {\n      this.setValue(ContentUtils.toggleSelectionIndent(editorState, 0))\n    })\n  }\n\n  toggleFullscreen = (fullscreen) => {\n\n    this.setState({\n      isFullscreen: typeof fullscreen !== 'undefined' ? fullscreen : !this.state.isFullscreen\n    }, () => {\n      this.editorProps.onFullscreen && this.editorProps.onFullscreen(this.state.isFullscreen)\n    })\n\n  }\n\n  lockOrUnlockEditor(editorLocked) {\n    this.setState({ editorLocked })\n  }\n\n  setEditorContainerNode = (containerNode) => {\n    this.containerNode = containerNode\n  }\n\n  render() {\n\n    let {\n      id, editorId, controls, excludeControls, extendControls, readOnly, disabled, media, language, colors, colorPicker, colorPickerTheme, colorPickerAutoHide, hooks,\n      fontSizes, fontFamilies, emojis, placeholder, fixPlaceholder, headings, imageControls, imageResizable, lineHeights, letterSpacings, textAligns, textBackgroundColor, allowInsertLinkText, defaultLinkTarget,\n      extendAtomics, className, style, controlBarClassName, controlBarStyle, contentClassName, contentStyle, stripPastedStyles, componentBelowControlBar\n    } = this.editorProps\n    const { isFullscreen, editorState } = this.state\n\n    editorId = editorId || id\n    hooks = buildHooks(hooks)\n    controls = controls.filter(item => excludeControls.indexOf(item) === -1)\n    language = (typeof language === 'function' ? language(languages, 'braft-editor') : languages[language]) || languages[defaultProps.language]\n\n    const externalMedias = media && media.externals ? {\n      ...defaultProps.media.externals,\n      ...media.externals\n    } : defaultProps.media.externals\n\n    const accepts = media && media.accepts ? {\n      ...defaultProps.media.accepts,\n      ...media.accepts\n    } : defaultProps.media.accepts\n\n    media = { ...defaultProps.media, ...media, externalMedias, accepts }\n\n    if (!media.uploadFn) {\n      media.video = false\n      media.audio = false\n    }\n\n    const controlBarProps = {\n      editor: this,\n      editorState: editorState,\n      braftFinder: this.braftFinder,\n      ref: instance => this.controlBarInstance = instance,\n      getContainerNode: () => this.containerNode,\n      className: controlBarClassName,\n      style: controlBarStyle,\n      colors: [...colors, ...this.state.tempColors],\n      colorPicker, colorPickerTheme, colorPickerAutoHide, hooks, editorId, media, controls, language, extendControls, headings, fontSizes, fontFamilies,\n      emojis, lineHeights, letterSpacings, textAligns, textBackgroundColor, allowInsertLinkText, defaultLinkTarget\n    }\n\n    const { unitExportFn } = editorState.convertOptions\n\n    const commonProps = {\n      editor: this, editorId, hooks,\n      editorState: editorState,\n      containerNode: this.containerNode,\n      imageControls, imageResizable, language, extendAtomics\n    }\n\n    const blockRendererFn = getBlockRendererFn(commonProps, this.editorProps.blockRendererFn)\n    const blockRenderMap = getBlockRenderMap(commonProps, this.editorProps.blockRenderMap)\n    const blockStyleFn = getBlockStyleFn(this.editorProps.blockStyleFn)\n    const customStyleMap = getCustomStyleMap(commonProps, this.editorProps.customStyleMap)\n    const customStyleFn = getCustomStyleFn(commonProps, { fontFamilies, unitExportFn, customStyleFn: this.editorProps.customStyleFn })\n\n    const keyBindingFn = getKeyBindingFn(this.editorProps.keyBindingFn)\n\n    const mixedProps = {}\n\n    if (this.state.editorLocked || this.editorProps.disabled || this.editorProps.readOnly || this.editorProps.draftProps.readOnly) {\n      mixedProps.readOnly = true\n    }\n\n    if (\n      placeholder && fixPlaceholder && editorState.isEmpty() &&\n      editorState.getCurrentContent().getFirstBlock().getType() !== 'unstyled'\n    ) {\n      placeholder = ''\n    }\n\n    const draftProps = {\n      ref: instance => { this.draftInstance = instance },\n      editorState: editorState,\n      handleKeyCommand: this.handleKeyCommand,\n      handleReturn: this.handleReturn,\n      handleBeforeInput: this.handleBeforeInput,\n      handleDrop: this.handleDrop,\n      handleDroppedFiles: this.handleDroppedFiles,\n      handlePastedText: this.handlePastedText,\n      handlePastedFiles: this.handlePastedFiles,\n      onChange: this.onChange,\n      onUpArrow: this.onUpArrow,\n      onDownArrow: this.onDownArrow,\n      onTab: this.onTab,\n      onFocus: this.onFocus,\n      onBlur: this.onBlur,\n      blockRenderMap, blockRendererFn, blockStyleFn,\n      customStyleMap, customStyleFn,\n      keyBindingFn, placeholder, stripPastedStyles,\n      ...this.editorProps.draftProps,\n      ...mixedProps\n    }\n\n    return (\n      <React.Fragment>\n        {this.renderAutocomplete()}\n        <div\n          id='editor'\n          style={style}\n          ref={this.setEditorContainerNode}\n          className={`bf-container ${className}${(disabled ? ' disabled' : '')}${(readOnly ? ' read-only' : '')}${isFullscreen ? ' fullscreen' : ''}`}\n        >\n          <ControlBar {...controlBarProps} />\n          {componentBelowControlBar}\n\n          <div\n            onCompositionStart={this.handleCompositionStart}\n            className={`bf-content ${contentClassName}`}\n            onCopy={this.handleCopyContent}\n            style={contentStyle}\n          >\n\n            <Editor {...draftProps} />\n          </div>\n        </div>\n      </React.Fragment>\n    )\n\n  }\n\n}\n\nexport { EditorState }","import BraftEditor, { EditorState } from './editor'\nimport { convertRawToEditorState, convertHTMLToEditorState, convertEditorStateToRaw, convertEditorStateToHTML } from 'braft-convert'\nimport { createExtensibleEditor, compositeStyleImportFn, compositeStyleExportFn, compositeEntityImportFn, compositeEntityExportFn, compositeBlockImportFn, compositeBlockExportFn } from 'helpers/extension'\nimport { getDecorators } from 'renderers'\n\nEditorState.prototype.setConvertOptions = function (options = {}) {\n  this.convertOptions = options\n}\n\nEditorState.prototype.toHTML = function (options = {}) {\n  const convertOptions = this.convertOptions || {}\n  return convertEditorStateToHTML(this, {...convertOptions, ...options})\n}\n\nEditorState.prototype.toRAW = function (noStringify) {\n  return noStringify ? convertEditorStateToRaw(this) : JSON.stringify(convertEditorStateToRaw(this))\n}\n\nEditorState.prototype.toText = function () {\n  return this.getCurrentContent().getPlainText()\n}\n\nEditorState.prototype.isEmpty = function () {\n  return !this.getCurrentContent().hasText()\n}\n\nBraftEditor.createEditorState = EditorState.createFrom = (content, options = {}) => {\n\n  options.unitExportFn = options.unitExportFn || BraftEditor.defaultProps.converts.unitExportFn\n  options.styleImportFn = compositeStyleImportFn(options.styleImportFn, options.editorId)\n  options.entityImportFn = compositeEntityImportFn(options.entityImportFn, options.editorId)\n  options.blockImportFn = compositeBlockImportFn(options.blockImportFn, options.editorId)\n\n  let editorState = null\n\n  if (content instanceof EditorState) {\n    editorState = content\n  } else if (typeof content === 'object' && content && content.blocks && content.entityMap) {\n    editorState = convertRawToEditorState(content, getDecorators(options.editorId))\n  } else if (typeof content === 'string') {\n    try {\n      if (/^(-)?\\d+$/.test(content)) {\n        editorState = convertHTMLToEditorState(content, getDecorators(options.editorId), options, 'create')\n      } else {\n        editorState = EditorState.createFrom(JSON.parse(content), options)\n      }\n    } catch (error) {\n      editorState = convertHTMLToEditorState(content, getDecorators(options.editorId), options, 'create')\n    }\n  } else if (typeof content === 'number') {\n    editorState = convertHTMLToEditorState(content.toLocaleString().replace(/,/g, ''), getDecorators(options.editorId), options, 'create')\n  } else {\n    editorState = EditorState.createEmpty(getDecorators(options.editorId))\n  }\n\n  options.styleExportFn = compositeStyleExportFn(options.styleExportFn, options.editorId)\n  options.entityExportFn = compositeEntityExportFn(options.entityExportFn, options.editorId)\n  options.blockExportFn = compositeBlockExportFn(options.blockExportFn, options.editorId)\n\n  editorState.setConvertOptions(options)\n\n  return editorState\n\n}\n\nexport default createExtensibleEditor(BraftEditor)\nexport { EditorState, getDecorators }\n\n// 2.1\n// [ ]\n// [ ]hook\n\n// 2.2\n// [ ]\n// [ ]UI\n\n// 2.3\n// [ ]md\n// [ ]\n// [ ]","// removed by extract-text-webpack-plugin","// removed by extract-text-webpack-plugin","// removed by extract-text-webpack-plugin","// removed by extract-text-webpack-plugin","// removed by extract-text-webpack-plugin","// removed by extract-text-webpack-plugin","// removed by extract-text-webpack-plugin","// removed by extract-text-webpack-plugin","// removed by extract-text-webpack-plugin","// removed by extract-text-webpack-plugin","// removed by extract-text-webpack-plugin","// removed by extract-text-webpack-plugin","// removed by extract-text-webpack-plugin","// removed by extract-text-webpack-plugin","// removed by extract-text-webpack-plugin","// removed by extract-text-webpack-plugin","// removed by extract-text-webpack-plugin","// removed by extract-text-webpack-plugin","// removed by extract-text-webpack-plugin","// removed by extract-text-webpack-plugin","// removed by extract-text-webpack-plugin"],"sourceRoot":""}